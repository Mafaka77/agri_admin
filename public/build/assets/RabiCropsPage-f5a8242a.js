import{u as E,k as u,T as O,r as n,a as F,o as M,b as P,e as o,w as r,d as _,j as U,g as l,f as T,O as $}from"./app-729322a0.js";const j={class:"q-pl-xl q-pr-xl"},I=_("div",{class:"row"},null,-1),K=_("span",{class:"text-weight-bold"}," Kharif Crops",-1),L=["onSubmit"],Q={class:"q-pa-md"},z={class:"q-gutter-x-md column"},H={__name:"RabiCropsPage",props:{rabiCrops:[]},setup(q){const m=q,a=E(),b=u(m.rabiCrops),C=[{name:"id",align:"left",label:"ID",field:"id"},{name:"rabi_crops_name",align:"left",label:"Rabi Crop Name",field:"rabi_crops_name"},{name:"rabi_crops_code",align:"left",label:"Rabi Crop Code",field:"rabi_crops_code"},{name:"actions",align:"right",label:"Actions",field:"id"}],c=u(!1),p=u(!1),e=O({id:0,rabi_crops_name:"",rabi_crops_code:""}),h=()=>{p.value===!1?e.post(route("rabi-crops.store"),{onStart:()=>a.loading.show(),onSuccess:()=>{e.reset(),b.value=m.rabiCrops,a.notify({message:"Rabi Crop created",icon:"check",iconColor:"blue",closeBtn:!0})},onError:s=>{console.log(s),a.notify({message:s.message,icon:"warning",iconColor:"red",closeBtn:!0})},onFinish:()=>a.loading.hide()}):e.put(route("rabi-crops.update",e.id),{onStart:()=>a.loading.show(),onSuccess:()=>{c.value=!1,a.notify({message:"Rabi crops updated",closeBtn:!0,icon:"check",iconColor:"blue"}),a.loading.hide()},onFinish:()=>a.loading.hide(),preserveState:!1})},v=s=>{a.dialog({title:"Confirm Delete",message:"Are you sure?",cancel:"No"}).onOk(()=>{$.delete(route("rabi-crops.destroy",s),{onStart:()=>a.loading.show({message:"Deleting...."}),onSuccess:()=>{a.notify({message:"Rabi Crops deleted",closeBtn:!0}),a.loading.hide()},onFinish:()=>a.loading.hide(),preserveState:!1})})},w=()=>{c.value=!0,p.value=!1},k=s=>{c.value=!0,p.value=!0,e.id=s.id,e.rabi_crops_name=s.rabi_crops_name,e.rabi_crops_code=s.rabi_crops_code};return(s,i)=>{const d=n("q-btn"),S=n("q-td"),y=n("q-table"),V=n("q-toolbar-title"),R=n("q-toolbar"),f=n("q-icon"),g=n("q-input"),x=n("q-card-section"),B=n("q-card"),D=n("q-dialog"),N=F("close-popup");return M(),P("div",j,[I,o(y,{flat:"",bordered:"",title:"Rabi Crops",rows:b.value,columns:C,"row-key":"name",pagination:s.initialPagination},{"top-right":r(()=>[o(d,{outline:"",rounded:"",label:"Add Rabi Crops",dense:"",flat:"",class:"text-white q-px-lg q-mx-lg",style:{"background-color":"#2e6525"},onClick:w})]),"body-cell-actions":r(t=>[o(S,{props:t},{default:r(()=>[o(d,{dense:"",round:"",flat:"",onClick:A=>k(t.row),icon:"edit",style:{color:"#2e6525"}},null,8,["onClick"]),o(d,{dense:"",round:"",flat:"",color:"red",onClick:A=>v(t.row.id),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"]),o(D,{modelValue:c.value,"onUpdate:modelValue":i[2]||(i[2]=t=>c.value=t)},{default:r(()=>[o(B,null,{default:r(()=>[o(R,null,{default:r(()=>[o(V,null,{default:r(()=>[K]),_:1}),U(o(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[N]])]),_:1}),o(x,null,{default:r(()=>[_("form",{onSubmit:T(h,["prevent"]),method:"POST"},[_("div",Q,[_("div",z,[o(g,{name:"name",standout:"",modelValue:l(e).rabi_crops_name,"onUpdate:modelValue":i[0]||(i[0]=t=>l(e).rabi_crops_name=t),error:!!l(e).errors.rabi_crops_name,"error-message":l(e).errors.rabi_crops_name,dense:"",placeholder:"Rabi Crops Name *"},{prepend:r(()=>[o(f,{name:"add"})]),_:1},8,["modelValue","error","error-message"]),o(g,{name:"name",standout:"",modelValue:l(e).rabi_crops_code,"onUpdate:modelValue":i[1]||(i[1]=t=>l(e).rabi_crops_code=t),error:!!l(e).errors.rabi_crops_code,"error-message":l(e).errors.rabi_crops_code,dense:"",placeholder:"Rabi Crops Code"},{prepend:r(()=>[o(f,{name:"code"})]),_:1},8,["modelValue","error","error-message"]),o(d,{label:"Submit",dense:"",color:"black",type:"submit",disable:l(e).processing},null,8,["disable"])])])],40,L)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};export{H as default};
