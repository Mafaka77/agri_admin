import{u as A,T as Y,c as q,o as m,a as u,b as l,w as B,d as r,e as a,f as c,g as n,Q as _,F as R,r as P,h as M,i as p,j as k,k as y,l as V,t as K,m as T,C as $}from"./app-34eb093c.js";import{Q as v}from"./QFile-410759ec.js";import{Q as w,a as E}from"./QSelect-f4d18824.js";import{Q as I,a as z}from"./QPopupProxy-ca18b0a4.js";import"./QChip-92b2a9c8.js";const O={class:"row justify-center"},L={class:"col-md-9 col-xl-7 q-pa-md",style:{"background-color":"white"}},G=l("div",{class:"q-pt-md text-lg"},"Additional Farmer Details",-1),H={class:"q-gutter-x-md column"},J=["onSubmit"],W=l("div",null,"Ration Card Details",-1),X={class:"row justify-around q-pt-md"},Z={class:"col-xs-12 col-md-5"},ee={class:"col-xs-12 col-md-5"},ae=l("div",null,"Schemes Applied by Farmer",-1),oe={class:"row q-pt-md justify-center"},se={class:"col-xs-12 col-md-11"},le={class:"row justify-around"},re={class:"col-xs-12 col-md-11"},de={class:"row justify-around"},te={class:"col-xs-12 col-md-5"},ne={class:"self-center no-outline",tabindex:"0"},ie={class:"col-xs-12 col-md-5"},ce={class:"row justify-around q-gutter-y-md"},_e={class:"col-xs-12 col-md-5"},me={class:"col-xs-12 col-md-5"},ue=l("div",{class:"q-pb-md q-pt-md"},"Kisan Credit Card",-1),pe={class:"row justify-around"},fe={class:"col-xs-12 col-md-5"},he={class:"row"},be=l("div",{class:"col-xs-6"}," KCC Availed by Farmer ",-1),ve={class:"col-xs-6"},ge=l("div",{class:"col-xs-12 col-md-5"},null,-1),ke={key:0},ye=l("div",null,"KCC Details",-1),Ve={class:"row justify-around"},we={class:"col-xs-12 col-md-5"},xe={class:"col-xs-12 col-md-5"},Ce={class:"row justify-around"},Ue={class:"col-xs-12 col-md-5"},je={class:"col-xs-12 col-md-5"},Fe={class:"row justify-around"},Se={class:"col-xs-12 col-md-5"},De={class:"col-xs-12 col-md-5"},Ne={key:1},Qe=l("div",{class:"q-pb-md"},"Supporting Documents",-1),Ae={class:"row justify-around"},Ye={class:"col-xs-12 col-md-5"},qe={class:"col-xs-12 col-md-5"},Be=l("div",{class:"q-pt-md q-pb-md"},"Enumerator Details",-1),Re={class:"row justify-around"},Pe={class:"col-xs-12 col-md-5"},Me={class:"row items-center justify-end"},Ke={class:"col-xs-12 col-md-5"},Te={class:"row justify-center q-mt-md"},$e=l("div",{style:{width:"15px"}},null,-1),Ge={__name:"EditFarmerAdditionalPage",props:{additional:Object,schemes:[]},setup(g){const d=g,t=A(),e=Y({farmers_id:d.additional.farmers_id,ration_card_number:d.additional.ration_card_number,ration_card_path:d.additional.ration_card_path,ration_card_file:d.additional.ration_card_path,scheme_id:"",schemeApplied:d.additional.scheme_applied,is_kcc_availed:d.additional.is_kcc_availed==1?"Yes":"No",kcc_card_no:d.additional.kcc_card_no,kcc_renew_or_new:d.additional.kcc_renew_or_new,bank_name:d.additional.bank_name,branch_name:d.additional.branch_name,year_of_amount_sanction:d.additional.year_of_amount_sanction,amount_sanction:d.additional.amount_sanction,aadhaar_card_path:d.additional.aadhaar_card_path,aadhaar_card_file:d.additional.aadhaar_card_file,bank_passbook_path:d.additional.bank_passbook_path,bank_passbook_file:d.additional.bank_passbook_file,date_of_data_collection:d.additional.date_of_data_collection,remarks:""}),x=["Yes","No"],C=[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],U=()=>{e.scheme_id===""?t.notify({message:"Please select Scheme Applied"}):e.schemeApplied.push({schemes_id:e.scheme_id.id,scheme_name:e.scheme_id.scheme_name,availed:"Yes",amount:""})},j=q(i=>e.is_kcc_availed),F=()=>{e.put(route("additional-farmer-details.update",d.additional.id),{onStart:()=>{t.loading.show()},onSuccess:()=>{t.loading.hide(),t.notify({message:"Submitted Successfully"})},onError:()=>{t.loading.hide()}})},S=i=>{const o=new FormData;o.append("ration_card_document",e.ration_card_file),t.loading.show({message:"File uploading......"}),axios.post(route("upload-ration-card"),o,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>{t.loading.hide(),e.ration_card_path=s.data.data,console.log(e.ration_card_path),t.notify({type:"positive",message:"File Uploaded Successfully"})}).catch(s=>{t.notify({type:"negative",message:s})})},D=()=>{const i=new FormData;i.append("aadhaar_card_document",e.aadhaar_card_file),t.loading.show({message:"File uploading......"}),axios.post(route("upload-aadhaar-card"),i,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{t.loading.hide(),e.aadhaar_card_path=o.data.data,t.notify({type:"positive",message:"File Uploaded Successfully"})}).catch(o=>{console.log(o),t.notify({type:"negative",message:o})})},N=()=>{const i=new FormData;i.append("bank_passbook_document",e.bank_passbook_file),t.loading.show({message:"File uploading......"}),axios.post(route("upload-bank-passbook"),i,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{t.loading.hide(),e.bank_passbook_path=o.data.data,t.notify({type:"positive",message:"File Uploaded Successfully"})}).catch(o=>{console.log(o),t.notify({type:"negative",message:o})})},f=i=>{t.notify({type:"negative",message:`${i.length} file(s) did not pass validation constraints`})},h=i=>{window.open("/storage/"+i,"_blank")};return(i,o)=>(m(),u("div",O,[l("div",L,[G,l("div",H,[l("form",{onSubmit:B(F,["prevent"]),method:"POST"},[W,l("div",X,[l("div",Z,[r(c,{name:"ration_card_number",outlined:"",modelValue:a(e).ration_card_number,"onUpdate:modelValue":o[0]||(o[0]=s=>a(e).ration_card_number=s),error:!!a(e).errors.ration_card_number,"error-message":a(e).errors.ration_card_number,dense:"",label:"Ration Card Number *"},null,8,["modelValue","error","error-message"])]),l("div",ee,[r(v,{"display-value":a(e).ration_card_path,modelValue:a(e).ration_card_file,"onUpdate:modelValue":[o[2]||(o[2]=s=>a(e).ration_card_file=s),S],error:!!a(e).errors.ration_card_path,"error-message":a(e).errors.ration_card_path,label:"Upload Ration Card(Below <3MB)",color:"green",dense:"",outlined:"",counter:"","max-file-size":"3145728",onRejected:f},{prepend:n(()=>[r(p,{name:"attach_file"})]),append:n(()=>[r(_,{flat:"",dense:"",color:"green",icon:"preview",onClick:o[1]||(o[1]=s=>h(a(e).ration_card_file))})]),_:1},8,["display-value","modelValue","error","error-message"])])]),ae,l("div",oe,[l("div",se,[r(w,{modelValue:a(e).scheme_id,"onUpdate:modelValue":o[3]||(o[3]=s=>a(e).scheme_id=s),error:!!a(e).errors.scheme_id,"error-message":a(e).errors.scheme_id,options:g.schemes,dense:"","option-label":"scheme_name","option-value":"scheme_name","stack-label":"",clearable:"",label:" Scheme Name *",outlined:"",color:"green"},{"no-option":n(()=>[r(k,null,{default:n(()=>[r(y,{class:"text-gresy"},{default:n(()=>[V(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])])]),l("div",le,[l("div",re,[r(_,{class:"text-white",rounded:"",label:"Add Scheme",style:{"background-color":"#2e6525"},onClick:U})])]),(m(!0),u(R,null,P(a(e).schemeApplied,(s,Q)=>(m(),u("div",de,[l("div",te,[r(E,{borderless:""},{control:n(()=>[l("div",ne,K(s.schemes.scheme_name),1)]),append:n(()=>[r(_,{dense:"",flat:"",onClick:()=>a(e).schemeApplied.splice(Q,1),icon:"delete",color:"red"},null,8,["onClick"])]),_:2},1024)]),l("div",ie,[l("div",ce,[l("div",_e,[r(w,{modelValue:s.availed,"onUpdate:modelValue":b=>s.availed=b,options:x,dense:"","option-label":"label","option-value":"value","stack-label":"","model-value":s.availed===1?"Yes":s.availed===0?"No":s.availed==="Yes"?"Yes":"No",label:" Availed *",outlined:""},{"no-option":n(()=>[r(k,null,{default:n(()=>[r(y,{class:"text-gresy"},{default:n(()=>[V(" No results ")]),_:1})]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue","model-value"])]),l("div",me,[r(c,{disable:s.availed===0||s.availed==="No",name:"benefit_amount",outlined:"",modelValue:s.amount,"onUpdate:modelValue":b=>s.amount=b,dense:"",label:"Benefit Amt. (till date)"},null,8,["disable","modelValue","onUpdate:modelValue"])])])])]))),256)),ue,l("div",pe,[l("div",fe,[l("div",he,[be,l("div",ve,[r(M,{modelValue:a(e).is_kcc_availed,"onUpdate:modelValue":o[4]||(o[4]=s=>a(e).is_kcc_availed=s),options:C,color:"primary",inline:""},null,8,["modelValue"])])])]),ge]),j.value==="Yes"?(m(),u("div",ke,[ye,l("div",Ve,[l("div",we,[r(c,{outlined:"",modelValue:a(e).kcc_card_no,"onUpdate:modelValue":o[5]||(o[5]=s=>a(e).kcc_card_no=s),error:!!a(e).errors.kcc_card_no,"error-message":a(e).errors.kcc_card_no,dense:"",label:"KCC Card Number "},null,8,["modelValue","error","error-message"])]),l("div",xe,[r(c,{outlined:"",modelValue:a(e).kcc_renew_or_new,"onUpdate:modelValue":o[6]||(o[6]=s=>a(e).kcc_renew_or_new=s),error:!!a(e).errors.kcc_renew_or_new,"error-message":a(e).errors.kcc_renew_or_new,dense:"",label:"KCC Renew/New "},null,8,["modelValue","error","error-message"])])]),l("div",Ce,[l("div",Ue,[r(c,{outlined:"",modelValue:a(e).bank_name,"onUpdate:modelValue":o[7]||(o[7]=s=>a(e).bank_name=s),error:!!a(e).errors.bank_name,"error-message":a(e).errors.bank_name,dense:"",label:"Bank Name "},null,8,["modelValue","error","error-message"])]),l("div",je,[r(c,{outlined:"",modelValue:a(e).branch_name,"onUpdate:modelValue":o[8]||(o[8]=s=>a(e).branch_name=s),error:!!a(e).errors.branch_name,"error-message":a(e).errors.branch_name,dense:"",label:"Branch Name "},null,8,["modelValue","error","error-message"])])]),l("div",Fe,[l("div",Se,[r(c,{outlined:"",modelValue:a(e).year_of_amount_sanction,"onUpdate:modelValue":o[9]||(o[9]=s=>a(e).year_of_amount_sanction=s),error:!!a(e).errors.year_of_amount_sanction,"error-message":a(e).errors.year_of_amount_sanction,dense:"",label:"Year of sanctioning the amount"},null,8,["modelValue","error","error-message"])]),l("div",De,[r(c,{outlined:"",modelValue:a(e).amount_sanction,"onUpdate:modelValue":o[10]||(o[10]=s=>a(e).amount_sanction=s),error:!!a(e).errors.amount_sanction,"error-message":a(e).errors.amount_sanction,dense:"",label:"Amount Sanctioned(in Rs)"},null,8,["modelValue","error","error-message"])])])])):(m(),u("div",Ne)),Qe,l("div",Ae,[l("div",Ye,[r(v,{"display-value":a(e).aadhaar_card_path,modelValue:a(e).aadhaar_card_file,"onUpdate:modelValue":[o[12]||(o[12]=s=>a(e).aadhaar_card_file=s),D],error:!!a(e).errors.aadhaar_card_path,"error-message":a(e).errors.aadhaar_card_path,label:"Upload Aadhaar Card (Below <3Mb)",color:"green",dense:"",outlined:"",counter:"","max-file-size":"3145728",onRejected:f},{prepend:n(()=>[r(p,{name:"attach_file"})]),append:n(()=>[r(_,{flat:"",dense:"",color:"green",icon:"preview",onClick:o[11]||(o[11]=s=>h(a(e).aadhaar_card_path))})]),_:1},8,["display-value","modelValue","error","error-message"])]),l("div",qe,[r(v,{"display-value":a(e).bank_passbook_path,modelValue:a(e).bank_passbook_file,"onUpdate:modelValue":[o[14]||(o[14]=s=>a(e).bank_passbook_file=s),N],error:!!a(e).errors.bank_passbook_path,"error-message":a(e).errors.bank_passbook_path,label:"Upload Bank Passbook (Below <3Mb)",color:"green",dense:"",counter:"",outlined:"","max-file-size":"3145728",onRejected:f},{prepend:n(()=>[r(p,{name:"attach_file"})]),append:n(()=>[r(_,{flat:"",dense:"",color:"green",icon:"preview",onClick:o[13]||(o[13]=s=>h(a(e).bank_passbook_path))})]),_:1},8,["display-value","modelValue","error","error-message"])])]),Be,l("div",Re,[l("div",Pe,[r(c,{readonly:"",clearable:"",modelValue:a(e).date_of_data_collection,"onUpdate:modelValue":o[16]||(o[16]=s=>a(e).date_of_data_collection=s),dense:"",rules:["date"],label:"Date of Data Collection *",outlined:"",color:"green",error:!!a(e).errors.date_of_data_collection,"error-message":a(e).errors.date_of_data_collection},{append:n(()=>[r(p,{name:"event",class:"cursor-pointer"},{default:n(()=>[r(I,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[r(z,{mask:"DD-MM-YYYY",modelValue:a(e).date_of_data_collection,"onUpdate:modelValue":o[15]||(o[15]=s=>a(e).date_of_data_collection=s),minimal:""},{default:n(()=>[l("div",Me,[T(r(_,{label:"Close",color:"primary",flat:""},null,512),[[$]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message"])]),l("div",Ke,[r(c,{type:"textarea",color:"green",outlined:"",modelValue:a(e).remarks,"onUpdate:modelValue":o[17]||(o[17]=s=>a(e).remarks=s),error:!!a(e).errors.remarks,"error-message":a(e).errors.remarks,dense:"",label:"Remarks *"},null,8,["modelValue","error","error-message"])])]),l("div",Te,[r(_,{label:"Back",outline:"",dense:"",rounded:"",style:{color:"#2e6525",padding:"5px 40px 5px"},onClick:o[18]||(o[18]=s=>i.$inertia.get(i.route("farmer-details",a(e).farmers_id)))}),$e,r(_,{flat:"",rounded:"",label:"Confirm",type:"submit",style:{padding:"5px 30px 5px","background-color":"#2e6525",color:"white"}})])],40,J)])])]))}};export{Ge as default};
