import{u as E,k as _,T as O,r as n,a as F,o as M,b as P,e,w as l,d as r,j as T,g as d,f as U,O as $}from"./app-c4ff528f.js";const j={class:"q-pl-xl q-pr-xl"},I=r("div",{class:"row"},null,-1),K=r("span",{class:"text-weight-bold"}," Kharif Crops",-1),Q=["onSubmit"],z={class:"q-pa-md"},G={class:"q-gutter-x-md column"},J={__name:"LivestockPage",props:{livestock:[]},setup(f){const p=f,o=E(),v=_(p.livestock),m=_(!1),i=_(!1),g=[{name:"id",align:"left",label:"ID",field:"id"},{name:"livestock_name",align:"left",label:"Livestock Name",field:"livestock_name"},{name:"actions",align:"right",label:"Actions",field:"id"}],t=O({id:0,livestock_name:""}),k=()=>{t.reset(),i.value=!0,m.value=!1},b=s=>{m.value=!0,i.value=!0,t.id=s.id,t.livestock_name=s.livestock_name},q=()=>{m.value===!1?t.post(route("livestock.store"),{onStart:()=>o.loading.show(),onSuccess:()=>{t.reset(),v.value=p.livestock,o.notify({message:"Livestock created",icon:"check",iconColor:"blue",closeBtn:!0})},onError:s=>{console.log(s),o.notify({message:s.message,icon:"warning",iconColor:"red",closeBtn:!0})},onFinish:()=>o.loading.hide()}):t.put(route("livestock.update",t.id),{onStart:()=>o.loading.show(),onSuccess:()=>{i.value=!1,o.notify({message:"Livestock updated",closeBtn:!0,icon:"check",iconColor:"blue"}),o.loading.hide()},onFinish:()=>o.loading.hide(),preserveState:!1})},h=s=>{o.dialog({title:"Confirm Delete",message:"Are you sure?",cancel:"No"}).onOk(()=>{$.delete(route("livestock.destroy",s),{onStart:()=>o.loading.show({message:"Deleting...."}),onSuccess:()=>{o.notify({message:"Livestock deleted",closeBtn:!0}),o.loading.hide()},onFinish:()=>o.loading.hide(),preserveState:!1})})};return(s,u)=>{const c=n("q-btn"),w=n("q-td"),C=n("q-table"),S=n("q-toolbar-title"),y=n("q-toolbar"),L=n("q-icon"),x=n("q-input"),V=n("q-card-section"),B=n("q-card"),D=n("q-dialog"),N=F("close-popup");return M(),P("div",j,[I,e(C,{flat:"",bordered:"",title:"Livestock",rows:v.value,columns:g,"row-key":"name",pagination:s.initialPagination},{"top-right":l(()=>[e(c,{outline:"",rounded:"",label:"Add Livestock",dense:"",flat:"",class:"text-white q-px-lg q-mx-lg",style:{"background-color":"#2e6525"},onClick:k})]),"body-cell-actions":l(a=>[e(w,{props:a},{default:l(()=>[e(c,{dense:"",round:"",flat:"",onClick:A=>b(a.row),icon:"edit",style:{color:"#2e6525"}},null,8,["onClick"]),e(c,{dense:"",round:"",flat:"",color:"red",onClick:A=>h(a.row.id),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"]),e(D,{modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=a=>i.value=a)},{default:l(()=>[e(B,null,{default:l(()=>[e(y,null,{default:l(()=>[e(S,null,{default:l(()=>[K]),_:1}),T(e(c,{flat:"",round:"",dense:"",icon:"close"},null,512),[[N]])]),_:1}),e(V,null,{default:l(()=>[r("form",{onSubmit:U(q,["prevent"]),method:"POST"},[r("div",z,[r("div",G,[e(x,{name:"name",standout:"",modelValue:d(t).livestock_name,"onUpdate:modelValue":u[0]||(u[0]=a=>d(t).livestock_name=a),error:!!d(t).errors.livestock_name,"error-message":d(t).errors.livestock_name,dense:"",placeholder:"Livestock Name *"},{prepend:l(()=>[e(L,{name:"add"})]),_:1},8,["modelValue","error","error-message"]),e(c,{label:"Submit",dense:"",color:"black",type:"submit",disable:d(t).processing},null,8,["disable"])])])],40,Q)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};export{J as default};
