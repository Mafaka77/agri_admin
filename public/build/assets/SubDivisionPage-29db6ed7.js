import{u as T,k as _,T as U,r as s,a as L,o as $,b as j,e,w as n,d as u,j as I,g as a,i as Q,f as z,O as G}from"./app-c4ff528f.js";const H={class:"q-pl-xl q-pr-xl"},J=u("div",{class:"row"},null,-1),K=u("span",{class:"text-weight-bold"}," Sub Division",-1),R=["onSubmit"],W={class:"q-pa-md"},X={class:"q-gutter-x-md column",style:{width:"400px"}},Z={__name:"SubDivisionPage",props:{district:[],sub_division:[]},setup(f){const m=f,t=T(),r=_(!1),p=_(!1),o=U({id:0,sub_division_name:"",district_id:""}),g=_(m.district),b=_(m.sub_division),q=[{name:"id",align:"left",label:"ID",field:"id"},{name:"sub_division_name",align:"left",label:"Sub Division Name",field:"sub_division_name"},{name:"district_id",align:"left",label:"District Name",field:i=>i.district.district_name},{name:"actions",align:"right",label:"Actions",field:"id"}],h=i=>{t.dialog({title:"Confirm Delete",message:"Are you sure?",cancel:"No"}).onOk(()=>{G.delete(route("sub-division.destroy",i),{onStart:()=>t.loading.show({message:"Deleting...."}),onSuccess:()=>{t.notify({message:"Sub Division deleted",closeBtn:!0}),t.loading.hide()},onFinish:()=>t.loading.hide(),preserveState:!1})})},S=i=>{o.sub_division_name=i.sub_division_name,o.district_id=i.district_id,o.id=i.id,r.value=!0,p.value=!0},D=()=>{r.value=!0,p.value=!1},w=()=>{p.value===!1?o.post(route("sub-division.store"),{onStart:()=>t.loading.show(),onSuccess:()=>{o.reset(),b.value=m.sub_division,t.notify({message:"Sub-Divisions created",icon:"check",iconColor:"blue",closeBtn:!0})},onError:i=>{console.log(i),t.notify({message:i.message,icon:"warning",iconColor:"red",closeBtn:!0})},onFinish:()=>t.loading.hide()}):o.put(route("sub-division.update",o.id),{onStart:()=>t.loading.show(),onSuccess:()=>{r.value=!1,t.notify({message:"Sub Division updated",closeBtn:!0,icon:"check",iconColor:"blue"}),t.loading.hide()},onError:i=>{console.log(i)},onFinish:()=>t.loading.hide(),preserveState:!1})};return(i,d)=>{const c=s("q-btn"),k=s("q-td"),y=s("q-table"),x=s("q-toolbar-title"),V=s("q-toolbar"),v=s("q-icon"),C=s("q-input"),N=s("q-item-section"),B=s("q-item"),E=s("q-select"),A=s("q-card-section"),O=s("q-card"),F=s("q-dialog"),M=L("close-popup");return $(),j("div",H,[J,e(y,{flat:"",bordered:"",title:"Sub-Division",rows:b.value,columns:q,"row-key":"name",pagination:i.initialPagination},{"top-right":n(()=>[e(c,{onClick:D,outline:"",rounded:"",label:"Add Sub Division",dense:"",flat:"",class:"text-white q-px-lg q-mx-lg",style:{"background-color":"#2e6525"}})]),"body-cell-actions":n(l=>[e(k,{props:l},{default:n(()=>[e(c,{dense:"",round:"",flat:"",onClick:P=>S(l.row),icon:"edit",style:{color:"#2e6525"}},null,8,["onClick"]),e(c,{dense:"",round:"",flat:"",color:"red",onClick:P=>h(l.row.id),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"]),e(F,{modelValue:r.value,"onUpdate:modelValue":d[2]||(d[2]=l=>r.value=l)},{default:n(()=>[e(O,null,{default:n(()=>[e(V,null,{default:n(()=>[e(x,null,{default:n(()=>[K]),_:1}),I(e(c,{flat:"",round:"",dense:"",icon:"close"},null,512),[[M]])]),_:1}),e(A,null,{default:n(()=>[u("form",{onSubmit:z(w,["prevent"]),method:"POST"},[u("div",W,[u("div",X,[e(C,{name:"sub_division_name",standout:"",modelValue:a(o).sub_division_name,"onUpdate:modelValue":d[0]||(d[0]=l=>a(o).sub_division_name=l),error:!!a(o).errors.sub_division_name,"error-message":a(o).errors.sub_division_name,dense:"",placeholder:"Sub Division Name *"},{prepend:n(()=>[e(v,{name:"add"})]),_:1},8,["modelValue","error","error-message"]),e(E,{modelValue:a(o).district_id,"onUpdate:modelValue":d[1]||(d[1]=l=>a(o).district_id=l),error:!!a(o).errors.district_id,"error-message":a(o).errors.district_id,options:g.value,dense:"","emit-value":"","fill-input":"",filled:"","hide-selected":"","map-options":"","option-label":"district_name","option-value":"id",placeholder:"Select District *",standout:"","use-input":""},{prepend:n(()=>[e(v,{name:"book"})]),"no-option":n(()=>[e(B,null,{default:n(()=>[e(N,{class:"text-gresy"},{default:n(()=>[Q(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"]),e(c,{label:"Submit",dense:"",color:"black",type:"submit",disable:a(o).processing},null,8,["disable"])])])],40,R)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};export{Z as default};
