import{u as k,n as c,T as C,o as x,a as y,d as e,w as t,s as V,b as u,g as r,p as q,v as B,x as N,m as T,q as E,Q as I,f as l,i as b,j as A,k as O,l as P,e as F,O as M,C as U}from"./app-9f8d538c.js";import{Q as L,a as $}from"./QTable-0250251a.js";import{Q as j}from"./QSelect-c51e5f66.js";import"./QChip-6492b354.js";const z={class:"q-pl-xl q-pr-xl"},G=u("div",{class:"row"},null,-1),H=u("span",{class:"text-weight-bold"}," Sub Division",-1),J=["onSubmit"],K={class:"q-pa-md"},R={class:"q-gutter-x-md column",style:{width:"400px"}},ee={__name:"SubDivisionPage",props:{district:[],sub_division:[]},setup(v){const m=v,o=k(),d=c(!1),_=c(!1),i=C({id:0,sub_division_name:"",district_id:""}),f=c(m.district),p=c(m.sub_division),g=[{name:"id",align:"left",label:"ID",field:"id"},{name:"sub_division_name",align:"left",label:"Sub Division Name",field:"sub_division_name"},{name:"district_id",align:"left",label:"District Name",field:s=>s.district.district_name},{name:"actions",align:"right",label:"Actions",field:"id"}],h=s=>{o.dialog({title:"Confirm Delete",message:"Are you sure?",cancel:"No"}).onOk(()=>{M.delete(route("sub-division.destroy",s),{onStart:()=>o.loading.show({message:"Deleting...."}),onSuccess:()=>{o.notify({message:"Sub Division deleted",closeBtn:!0}),o.loading.hide()},onFinish:()=>o.loading.hide(),preserveState:!1})})},S=s=>{i.sub_division_name=s.sub_division_name,i.district_id=s.district_id,i.id=s.id,d.value=!0,_.value=!0},D=()=>{d.value=!0,_.value=!1},w=()=>{_.value===!1?i.post(route("sub-division.store"),{onStart:()=>o.loading.show(),onSuccess:()=>{i.reset(),p.value=m.sub_division,o.notify({message:"Sub-Divisions created",icon:"check",iconColor:"blue",closeBtn:!0})},onError:s=>{console.log(s),o.notify({message:s.message,icon:"warning",iconColor:"red",closeBtn:!0})},onFinish:()=>o.loading.hide()}):i.put(route("sub-division.update",i.id),{onStart:()=>o.loading.show(),onSuccess:()=>{d.value=!1,o.notify({message:"Sub Division updated",closeBtn:!0,icon:"check",iconColor:"blue"}),o.loading.hide()},onError:s=>{console.log(s)},onFinish:()=>o.loading.hide(),preserveState:!1})};return(s,a)=>(x(),y("div",z,[G,e(L,{flat:"",bordered:"",title:"Sub-Division",rows:p.value,columns:g,"row-key":"name",pagination:s.initialPagination},{"top-right":t(()=>[e(r,{onClick:D,outline:"",rounded:"",label:"Add Sub Division",dense:"",flat:"",class:"text-white q-px-lg q-mx-lg",style:{"background-color":"#2e6525"}})]),"body-cell-actions":t(n=>[e($,{props:n},{default:t(()=>[e(r,{dense:"",round:"",flat:"",onClick:Q=>S(n.row),icon:"edit",style:{color:"#2e6525"}},null,8,["onClick"]),e(r,{dense:"",round:"",flat:"",color:"red",onClick:Q=>h(n.row.id),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"]),e(V,{modelValue:d.value,"onUpdate:modelValue":a[2]||(a[2]=n=>d.value=n)},{default:t(()=>[e(q,null,{default:t(()=>[e(B,null,{default:t(()=>[e(N,null,{default:t(()=>[H]),_:1}),T(e(r,{flat:"",round:"",dense:"",icon:"close"},null,512),[[U]])]),_:1}),e(E,null,{default:t(()=>[u("form",{onSubmit:F(w,["prevent"]),method:"POST"},[u("div",K,[u("div",R,[e(I,{name:"sub_division_name",standout:"",modelValue:l(i).sub_division_name,"onUpdate:modelValue":a[0]||(a[0]=n=>l(i).sub_division_name=n),error:!!l(i).errors.sub_division_name,"error-message":l(i).errors.sub_division_name,dense:"",placeholder:"Sub Division Name *"},{prepend:t(()=>[e(b,{name:"add"})]),_:1},8,["modelValue","error","error-message"]),e(j,{modelValue:l(i).district_id,"onUpdate:modelValue":a[1]||(a[1]=n=>l(i).district_id=n),error:!!l(i).errors.district_id,"error-message":l(i).errors.district_id,options:f.value,dense:"","emit-value":"","fill-input":"",filled:"","hide-selected":"","map-options":"","option-label":"district_name","option-value":"id",placeholder:"Select District *",standout:"","use-input":""},{prepend:t(()=>[e(b,{name:"book"})]),"no-option":t(()=>[e(A,null,{default:t(()=>[e(O,{class:"text-gresy"},{default:t(()=>[P(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"]),e(r,{label:"Submit",dense:"",color:"black",type:"submit",disable:l(i).processing},null,8,["disable"])])])],40,J)]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{ee as default};
