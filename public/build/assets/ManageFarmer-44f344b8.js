import{u as N,n as h,o as n,a as s,b as m,d as l,w as t,O as c,l as b,Q as $,al as D,f as p,am as I,i as P,g as u,ah as w,a6 as A,j as C,k as F,af as B,e as E}from"./app-8a2b0dee.js";import{Q as T,a as _}from"./QTable-e048b606.js";import{Q as i}from"./QBadge-e5ae270b.js";import{A as M}from"./AdminStore-abdf806e.js";import"./QSelect-897cd908.js";import"./QChip-2f6640b7.js";const O={class:"row justify-center"},j={class:"col-xs-12 col-md-9 col-xl-7"},K={class:"column q-gutter-md"},L=m("div",{class:"row"},"Farmer List",-1),R={key:0},U={key:1},W={key:0},Y={key:1},z={key:2},G={key:3},le={__name:"ManageFarmer",props:{farmers:[]},setup(Q){const d=Q,r=N(),f=M(),q=[{name:"farmer_id",required:!0,label:"Farmer ID",align:"left",field:a=>a.farmer_id,sortable:!0},{name:"full_name",align:"center",label:"Farmer Name",field:"full_name",sortable:!0},{name:"phone_no",align:"center",label:"Phone No.",field:"phone_no",sortable:!0},{name:"district",label:"District",field:a=>a.district.district_name},{name:"status",align:"center",label:"Status",field:a=>a.status,sortable:!0},{name:"verification",align:"center",label:"Verification",field:a=>a.verification,sortable:!0},{name:"actions",align:"right",field:"id"}],S=h(d.farmers.data),v=a=>{c.get(route("open-clicked",a),{})},V=a=>{r.dialog({title:"Confirm Delete",message:"Are you sure?",ok:"Yes",cancel:"No"}).onOk(()=>{c.delete(route("farmer-basic-info.destroy",a),{onStart:()=>r.loading.show({message:"Deleting...."}),onFinish:()=>r.loading.hide(),onSuccess:()=>r.loading.hide(),onError:()=>r.loading.hide(),preserveState:!1})}).onCancel(()=>{})};function x(a){const{page:o,rowsPerPage:e}=a.pagination;c.get(route("manage-farmer"),{per_page:e,page:o},{})}const k=h({page:d.farmers.current_page,rowsPerPage:d.farmers.per_page,rowsNumber:d.farmers.total}),y=a=>{c.get(route("manage-farmer"),{search:a,per_page:10,page:1},{onStart:()=>r.loading.show(),onSuccess:()=>r.loading.hide(),onFinish:()=>r.loading.hide(),onError:()=>r.loading.hide()})};return(a,o)=>(n(),s("div",O,[m("div",j,[l(T,{flat:"",bordered:"",title:"Farmers",rows:S.value,columns:q,"row-key":"status",onRequest:x,"rows-per-page-options":[2,5,7,15],pagination:k.value,"onUpdate:pagination":o[4]||(o[4]=e=>k.value=e)},{"top-left":t(()=>[m("div",K,[L,b("̵ "),m("div",null,[l($,{outlined̵̵:"",debounce:"300",dense:"",label:"Search",onKeyup:o[0]||(o[0]=D(E(e=>y(p(f).searchFarmerText),["prevent"]),["enter"])),modelValue:p(f).searchFarmerText,"onUpdate:modelValue":o[1]||(o[1]=e=>p(f).searchFarmerText=e),clearable:"",onClear:o[2]||(o[2]=e=>y(""))},{append:t(()=>[l(I,null,{default:t(()=>[l(P,{name:"search"})]),_:1})]),_:1},8,["modelValue"])])])]),"top-right":t(()=>[l(u,{onClick:o[3]||(o[3]=e=>a.$inertia.get(a.route("farmer-basic-info.index"))),outline:"",rounded:"",label:"Add Farmer",dense:"",flat:"",class:"text-white q-px-lg q-mx-lg",style:{"background-color":"#2e6525"}})]),"body-cell-actions":t(e=>[l(_,{props:e},{default:t(()=>[a.$page.props.auth.user.roles_id===2?(n(),w(u,{key:0,dense:"",flat:"",onClick:g=>v(e.row.id),label:"VIEW",style:{color:"#2e6525"}},null,8,["onClick"])):(n(),w(u,{key:1,dense:"",round:"",flat:"",onClick:g=>v(e.row.id),label:"OPEN",style:{color:"#2e6525"}},null,8,["onClick"])),l(u,{dense:"",round:"",flat:"",style:{color:"#2e6525"},icon:"more_vert"},{default:t(()=>[l(A,{fit:"",anchor:"bottom left",self:"top left"},{default:t(()=>[l(C,{clickable:"",onClick:g=>a.$inertia.get(a.route("farmer-basic-info.edit",e.row.id))},{default:t(()=>[l(F,null,{default:t(()=>[b("View/Edit")]),_:1})]),_:2},1032,["onClick"]),l(C,{clickable:"",onClick:g=>V(e.row.id)},{default:t(()=>[l(F,{style:{color:"red"}},{default:t(()=>[b("Delete")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-status":t(e=>[l(_,{props:e},{default:t(()=>[e.value==="Incomplete"?(n(),s("div",R,[l(i,{class:"q-pa-sm",color:"grey",label:e.value},null,8,["label"])])):(n(),s("div",U,[l(i,{class:"q-pa-sm",style:{"background-color":"#2e6525"},label:e.value},null,8,["label"])]))]),_:2},1032,["props"])]),"body-cell-verification":t(e=>[l(_,{props:e},{default:t(()=>[e.value==="Submitted"?(n(),s("div",W,[l(i,{class:"q-pa-sm",style:{"background-color":"#cd9f27"},label:e.value},null,8,["label"])])):e.value==="Pending"?(n(),s("div",Y,[l(i,{class:"q-pa-sm",style:{"background-color":"darkgrey"},label:e.value},null,8,["label"])])):e.value==="Approved"?(n(),s("div",z,[l(i,{class:"q-pa-sm",style:{"background-color":"#59964f"},label:e.value},null,8,["label"])])):e.value==="Rejected"?(n(),s("div",G,[l(i,{class:"q-pa-sm",style:{"background-color":"#e94343"},label:e.value},null,8,["label"])])):B("",!0)]),_:2},1032,["props"])]),_:1},8,["rows","pagination"])])]))}};export{le as default};
