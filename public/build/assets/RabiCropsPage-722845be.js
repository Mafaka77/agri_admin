import{u as S,n as p,T as y,o as V,a as x,d as o,w as r,s as R,b as c,g as d,p as q,v as B,x as T,m as D,q as N,Q as _,f as n,i as f,e as A,O as E,C as O}from"./app-8a2b0dee.js";import{Q as P,a as F}from"./QTable-e048b606.js";import"./QSelect-897cd908.js";import"./QChip-2f6640b7.js";const I={class:"q-pl-xl q-pr-xl"},M=c("div",{class:"row"},null,-1),U=c("span",{class:"text-weight-bold"}," Kharif Crops",-1),$=["onSubmit"],K={class:"q-pa-md"},L={class:"q-gutter-x-md column"},J={__name:"RabiCropsPage",props:{rabiCrops:[]},setup(g){const m=g,a=S(),b=p(m.rabiCrops),C=[{name:"id",align:"left",label:"ID",field:"id"},{name:"rabi_crops_name",align:"left",label:"Rabi Crop Name",field:"rabi_crops_name"},{name:"rabi_crops_code",align:"left",label:"Rabi Crop Code",field:"rabi_crops_code"},{name:"actions",align:"right",label:"Actions",field:"id"}],t=p(!1),u=p(!1),e=y({id:0,rabi_crops_name:"",rabi_crops_code:""}),h=()=>{u.value===!1?e.post(route("rabi-crops.store"),{onStart:()=>a.loading.show(),onSuccess:()=>{e.reset(),b.value=m.rabiCrops,a.notify({message:"Rabi Crop created",icon:"check",iconColor:"blue",closeBtn:!0})},onError:s=>{console.log(s),a.notify({message:s.message,icon:"warning",iconColor:"red",closeBtn:!0})},onFinish:()=>a.loading.hide()}):e.put(route("rabi-crops.update",e.id),{onStart:()=>a.loading.show(),onSuccess:()=>{t.value=!1,a.notify({message:"Rabi crops updated",closeBtn:!0,icon:"check",iconColor:"blue"}),a.loading.hide()},onFinish:()=>a.loading.hide(),preserveState:!1})},v=s=>{a.dialog({title:"Confirm Delete",message:"Are you sure?",cancel:"No"}).onOk(()=>{E.delete(route("rabi-crops.destroy",s),{onStart:()=>a.loading.show({message:"Deleting...."}),onSuccess:()=>{a.notify({message:"Rabi Crops deleted",closeBtn:!0}),a.loading.hide()},onFinish:()=>a.loading.hide(),preserveState:!1})})},w=()=>{t.value=!0,u.value=!1},k=s=>{t.value=!0,u.value=!0,e.id=s.id,e.rabi_crops_name=s.rabi_crops_name,e.rabi_crops_code=s.rabi_crops_code};return(s,i)=>(V(),x("div",I,[M,o(P,{flat:"",bordered:"",title:"Rabi Crops",rows:b.value,columns:C,"row-key":"name",pagination:s.initialPagination},{"top-right":r(()=>[o(d,{outline:"",rounded:"",label:"Add Rabi Crops",dense:"",flat:"",class:"text-white q-px-lg q-mx-lg",style:{"background-color":"#2e6525"},onClick:w})]),"body-cell-actions":r(l=>[o(F,{props:l},{default:r(()=>[o(d,{dense:"",round:"",flat:"",onClick:Q=>k(l.row),icon:"edit",style:{color:"#2e6525"}},null,8,["onClick"]),o(d,{dense:"",round:"",flat:"",color:"red",onClick:Q=>v(l.row.id),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"]),o(R,{modelValue:t.value,"onUpdate:modelValue":i[2]||(i[2]=l=>t.value=l)},{default:r(()=>[o(q,null,{default:r(()=>[o(B,null,{default:r(()=>[o(T,null,{default:r(()=>[U]),_:1}),D(o(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[O]])]),_:1}),o(N,null,{default:r(()=>[c("form",{onSubmit:A(h,["prevent"]),method:"POST"},[c("div",K,[c("div",L,[o(_,{name:"name",standout:"",modelValue:n(e).rabi_crops_name,"onUpdate:modelValue":i[0]||(i[0]=l=>n(e).rabi_crops_name=l),error:!!n(e).errors.rabi_crops_name,"error-message":n(e).errors.rabi_crops_name,dense:"",placeholder:"Rabi Crops Name *"},{prepend:r(()=>[o(f,{name:"add"})]),_:1},8,["modelValue","error","error-message"]),o(_,{name:"name",standout:"",modelValue:n(e).rabi_crops_code,"onUpdate:modelValue":i[1]||(i[1]=l=>n(e).rabi_crops_code=l),error:!!n(e).errors.rabi_crops_code,"error-message":n(e).errors.rabi_crops_code,dense:"",placeholder:"Rabi Crops Code"},{prepend:r(()=>[o(f,{name:"code"})]),_:1},8,["modelValue","error","error-message"]),o(d,{label:"Submit",dense:"",color:"black",type:"submit",disable:n(e).processing},null,8,["disable"])])])],40,$)]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{J as default};
