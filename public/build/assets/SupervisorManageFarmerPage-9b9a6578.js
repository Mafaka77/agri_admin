import{u as x,A as V,n as h,o as d,a as u,b as i,d as t,g as s,l as p,O as m,t as q,f as P,s as N,e as n,v as T,i as C,Q as y,ai as A,w as E}from"./app-56650a3d.js";import{Q as $}from"./QSelect-9eee4e1f.js";import{Q as D,a as _}from"./QTable-38703050.js";import{Q as g}from"./QBadge-00fd035d.js";import"./QChip-8aedfb60.js";const j={class:"row justify-center"},O={class:"col-xs-12 col-md-9 col-xl-7",style:{"background-color":"white"}},I={class:"q-col-gutter-y-md"},R={class:"column q-gutter-md"},U={class:"row"},K={class:"text-bold"},L={style:{color:"#2e6525"}},M={class:"column q-gutter-y-md"},z={key:0},G={key:0},H={key:1},J={key:2},W={key:3},te={__name:"SupervisorManageFarmerPage",props:{farmers:[],district:Object},setup(f){const c=f,o=x(),l=V(),v=h({page:c.farmers.current_page,rowsPerPage:c.farmers.per_page,rowsNumber:c.farmers.total}),F=h(c.farmers.data),w=[{name:"farmer_id",required:!0,label:"Farmer ID",align:"left",field:a=>a.farmer_id,sortable:!0},{name:"full_name",align:"center",label:"Farmer Name",field:"full_name",sortable:!0},{name:"verification",align:"center",label:"Verification",field:a=>a.verification,sortable:!0},{name:"enumerator",align:"center",label:"Enumerator",field:a=>a.user.name,sortable:!0},{name:"actions",align:"right",field:"id"}],k=[{label:"Pending",value:"Pending"},{label:"Submitted",value:"Submitted"},{label:"Approved",value:"Approved"},{label:"Rejected",value:"Rejected"}];function S(a){const{page:r,rowsPerPage:e}=a.pagination;m.get(route("manage-farmer"),{per_page:e,page:r},{})}const b=a=>{m.get(route("manage-farmer"),{search:a,per_page:10,page:1},{onStart:()=>o.loading.show(),onSuccess:()=>o.loading.hide(),onFinish:()=>o.loading.hide(),onError:()=>o.loading.hide()})},B=a=>{m.get(route("manage-farmer"),{search:a,per_page:10,page:1,filterBy:l.supervisorFilterBy},{onStart:()=>o.loading.show(),onSuccess:()=>o.loading.hide(),onFinish:()=>o.loading.hide(),onError:()=>o.loading.hide()})},Q=a=>{l.supervisorFilterBy="",m.get(route("manage-farmer"),{search:a,per_page:10,page:1,filterBy:l.supervisorFilterBy},{onStart:()=>o.loading.show(),onSuccess:()=>o.loading.hide(),onFinish:()=>o.loading.hide(),onError:()=>o.loading.hide()})};return(a,r)=>(d(),u("div",j,[i("div",O,[i("div",I,[t(D,{"table-header-style":{backgroundColor:"#302e2a"},"table-header-class":"text-white",flat:"",bordered:"",title:"Farmers",rows:F.value,columns:w,onRequest:S,"rows-per-page-options":[2,5,7,15,30,50],pagination:v.value,"onUpdate:pagination":r[6]||(r[6]=e=>v.value=e)},{"top-left":s(()=>[i("div",R,[i("div",U,[p("Farmer List for   "),i("div",K,q(f.district.district_name),1)]),p("̵ "),i("div",null,[t(P,{outlined:"",debounce:"300",dense:"",label:"Search by Name",onKeyup:r[0]||(r[0]=N(E(e=>b(n(l).searchFarmerText),["prevent"]),["enter"])),modelValue:n(l).searchFarmerText,"onUpdate:modelValue":r[1]||(r[1]=e=>n(l).searchFarmerText=e),clearable:"",onClear:r[2]||(r[2]=e=>b(""))},{append:s(()=>[t(T,null,{default:s(()=>[t(C,{name:"search"})]),_:1})]),_:1},8,["modelValue"])])])]),"top-right":s(()=>[i("div",L,[i("div",M,[t($,{modelValue:n(l).supervisorFilterBy,"onUpdate:modelValue":[r[4]||(r[4]=e=>n(l).supervisorFilterBy=e),r[5]||(r[5]=e=>B(n(l).searchFarmerText))],outlined:"",dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"label","option-value":"value",placeholder:"Filter by Verification",color:"green","use-input":"",options:k},{after:s(()=>[n(l).supervisorFilterBy!=""?(d(),u("div",z,[t(y,{icon:"clear",flat:"",dense:"",onClick:r[3]||(r[3]=e=>Q(n(l).searchFarmerText))})])):A("",!0)]),_:1},8,["modelValue"])])])]),"body-cell-actions":s(e=>[t(_,{props:e},{default:s(()=>[t(y,{dense:"",round:"",flat:"",onClick:X=>a.$inertia.get(a.route("supervisor-approval-index",e.row.id)),label:"OPEN",style:{color:"#2e6525"}},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-verification":s(e=>[t(_,{props:e},{default:s(()=>[e.value==="Submitted"?(d(),u("div",G,[t(g,{class:"q-pa-sm",style:{"background-color":"#f8f2e1",color:"#cd9f27"},label:e.value},null,8,["label"])])):e.value==="Pending"?(d(),u("div",H,[t(g,{class:"q-pa-sm",style:{"background-color":"darkgrey"},label:e.value},null,8,["label"])])):e.value==="Approved"?(d(),u("div",J,[t(g,{class:"q-pa-sm",style:{"background-color":"#59964f"},label:e.value},null,8,["label"])])):(d(),u("div",W,[t(g,{class:"q-pa-sm",style:{"background-color":"#ffe8e8",color:"red"},label:e.value},null,8,["label"])]))]),_:2},1032,["props"])]),_:1},8,["rows","pagination"])])]),p(" ̵")]))}};export{te as default};
