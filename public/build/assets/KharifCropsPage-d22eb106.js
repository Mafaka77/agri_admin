import{u as S,n as f,T as y,o as x,a as K,d as o,w as r,s as V,b as c,g as d,p as q,v as B,x as T,m as D,q as N,Q as h,f as i,i as _,e as A,O as E,C as O}from"./app-4d64c5bc.js";import{Q as P,a as F}from"./QTable-c7fe8097.js";import"./QSelect-d09f5d60.js";import"./QChip-4a5e7891.js";const I={class:"q-pl-xl q-pr-xl"},M=c("div",{class:"row"},null,-1),U=c("span",{class:"text-weight-bold"}," Kharif Crops",-1),$=["onSubmit"],L={class:"q-pa-md"},j={class:"q-gutter-x-md column",style:{width:"400px"}},R={__name:"KharifCropsPage",props:{kharifs:[]},setup(g){const p=g,a=S(),m=f(p.kharifs),k=[{name:"id",align:"left",label:"ID",field:"id"},{name:"kharif_crops_name",align:"left",label:"Kharif Crop Name",field:"kharif_crops_name"},{name:"kharif_crops_code",align:"left",label:"Kharif Crop Code",field:"kharif_crops_code"},{name:"actions",align:"right",label:"Actions",field:"id"}],t=f(!1),u=f(!1),e=y({id:0,kharif_crops_name:"",kharif_crops_code:""}),b=()=>{u.value===!1?e.post(route("kharif-crops.store"),{onStart:()=>a.loading.show(),onSuccess:()=>{e.reset(),m.value=p.kharifs,a.notify({message:"Kharif Crop created",icon:"check",iconColor:"blue",closeBtn:!0})},onError:s=>{console.log(s),a.notify({message:s.message,icon:"warning",iconColor:"red",closeBtn:!0})},onFinish:()=>a.loading.hide()}):e.put(route("kharif-crops.update",e.id),{onStart:()=>a.loading.show(),onSuccess:()=>{t.value=!1,a.notify({message:"Kharif crops updated",closeBtn:!0,icon:"check",iconColor:"blue"}),a.loading.hide()},onFinish:()=>a.loading.hide(),preserveState:!1})},C=s=>{a.dialog({title:"Confirm Delete",message:"Are you sure?",cancel:"No"}).onOk(()=>{E.delete(route("kharif-crops.destroy",s),{onStart:()=>a.loading.show({message:"Deleting...."}),onSuccess:()=>{a.notify({message:"Kharif Crops deleted",closeBtn:!0}),a.loading.hide()},onFinish:()=>a.loading.hide(),preserveState:!1})})},v=()=>{t.value=!0,u.value=!1},w=s=>{t.value=!0,u.value=!0,e.id=s.id,e.kharif_crops_name=s.kharif_crops_name,e.kharif_crops_code=s.kharif_crops_code};return(s,n)=>(x(),K("div",I,[M,o(P,{flat:"",bordered:"",title:"Kharif Crops",rows:m.value,columns:k,"row-key":"name",pagination:s.initialPagination},{"top-right":r(()=>[o(d,{outline:"",rounded:"",label:"Add Kharif Crops",dense:"",flat:"",class:"text-white q-px-lg q-mx-lg",style:{"background-color":"#2e6525"},onClick:v})]),"body-cell-actions":r(l=>[o(F,{props:l},{default:r(()=>[o(d,{dense:"",round:"",flat:"",onClick:Q=>w(l.row),icon:"edit",style:{color:"#2e6525"}},null,8,["onClick"]),o(d,{dense:"",round:"",flat:"",color:"red",onClick:Q=>C(l.row.id),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"]),o(V,{modelValue:t.value,"onUpdate:modelValue":n[2]||(n[2]=l=>t.value=l)},{default:r(()=>[o(q,null,{default:r(()=>[o(B,null,{default:r(()=>[o(T,null,{default:r(()=>[U]),_:1}),D(o(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[O]])]),_:1}),o(N,null,{default:r(()=>[c("form",{onSubmit:A(b,["prevent"]),method:"POST"},[c("div",L,[c("div",j,[o(h,{name:"name",standout:"",modelValue:i(e).kharif_crops_name,"onUpdate:modelValue":n[0]||(n[0]=l=>i(e).kharif_crops_name=l),error:!!i(e).errors.kharif_crops_name,"error-message":i(e).errors.kharif_crops_name,dense:"",placeholder:"Kharif Name *"},{prepend:r(()=>[o(_,{name:"add"})]),_:1},8,["modelValue","error","error-message"]),o(h,{name:"name",standout:"",modelValue:i(e).kharif_crops_code,"onUpdate:modelValue":n[1]||(n[1]=l=>i(e).kharif_crops_code=l),error:!!i(e).errors.kharif_crops_code,"error-message":i(e).errors.kharif_crops_code,dense:"",placeholder:"Kharif Code"},{prepend:r(()=>[o(_,{name:"code"})]),_:1},8,["modelValue","error","error-message"]),o(d,{label:"Submit",dense:"",color:"black",type:"submit",disable:i(e).processing},null,8,["disable"])])])],40,$)]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{R as default};
