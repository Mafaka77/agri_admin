import{u as E,k as u,T as O,r,a as F,o as M,b as P,e as o,w as n,d as _,j as U,g as l,f as T,O as $}from"./app-c4ff528f.js";const j={class:"q-pl-xl q-pr-xl"},I=_("div",{class:"row"},null,-1),L=_("span",{class:"text-weight-bold"}," Kharif Crops",-1),Q=["onSubmit"],z={class:"q-pa-md"},G={class:"q-gutter-x-md column",style:{width:"400px"}},J={__name:"KharifCropsPage",props:{kharifs:[]},setup(k){const f=k,a=E(),m=u(f.kharifs),b=[{name:"id",align:"left",label:"ID",field:"id"},{name:"kharif_crops_name",align:"left",label:"Kharif Crop Name",field:"kharif_crops_name"},{name:"kharif_crops_code",align:"left",label:"Kharif Crop Code",field:"kharif_crops_code"},{name:"actions",align:"right",label:"Actions",field:"id"}],c=u(!1),p=u(!1),e=O({id:0,kharif_crops_name:"",kharif_crops_code:""}),q=()=>{p.value===!1?e.post(route("kharif-crops.store"),{onStart:()=>a.loading.show(),onSuccess:()=>{e.reset(),m.value=f.kharifs,a.notify({message:"Kharif Crop created",icon:"check",iconColor:"blue",closeBtn:!0})},onError:s=>{console.log(s),a.notify({message:s.message,icon:"warning",iconColor:"red",closeBtn:!0})},onFinish:()=>a.loading.hide()}):e.put(route("kharif-crops.update",e.id),{onStart:()=>a.loading.show(),onSuccess:()=>{c.value=!1,a.notify({message:"Kharif crops updated",closeBtn:!0,icon:"check",iconColor:"blue"}),a.loading.hide()},onFinish:()=>a.loading.hide(),preserveState:!1})},v=s=>{a.dialog({title:"Confirm Delete",message:"Are you sure?",cancel:"No"}).onOk(()=>{$.delete(route("kharif-crops.destroy",s),{onStart:()=>a.loading.show({message:"Deleting...."}),onSuccess:()=>{a.notify({message:"Kharif Crops deleted",closeBtn:!0}),a.loading.hide()},onFinish:()=>a.loading.hide(),preserveState:!1})})},C=()=>{c.value=!0,p.value=!1},w=s=>{c.value=!0,p.value=!0,e.id=s.id,e.kharif_crops_name=s.kharif_crops_name,e.kharif_crops_code=s.kharif_crops_code};return(s,i)=>{const d=r("q-btn"),y=r("q-td"),S=r("q-table"),K=r("q-toolbar-title"),V=r("q-toolbar"),h=r("q-icon"),g=r("q-input"),x=r("q-card-section"),B=r("q-card"),D=r("q-dialog"),N=F("close-popup");return M(),P("div",j,[I,o(S,{flat:"",bordered:"",title:"Kharif Crops",rows:m.value,columns:b,"row-key":"name",pagination:s.initialPagination},{"top-right":n(()=>[o(d,{outline:"",rounded:"",label:"Add Kharif Crops",dense:"",flat:"",class:"text-white q-px-lg q-mx-lg",style:{"background-color":"#2e6525"},onClick:C})]),"body-cell-actions":n(t=>[o(y,{props:t},{default:n(()=>[o(d,{dense:"",round:"",flat:"",onClick:A=>w(t.row),icon:"edit",style:{color:"#2e6525"}},null,8,["onClick"]),o(d,{dense:"",round:"",flat:"",color:"red",onClick:A=>v(t.row.id),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"]),o(D,{modelValue:c.value,"onUpdate:modelValue":i[2]||(i[2]=t=>c.value=t)},{default:n(()=>[o(B,null,{default:n(()=>[o(V,null,{default:n(()=>[o(K,null,{default:n(()=>[L]),_:1}),U(o(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[N]])]),_:1}),o(x,null,{default:n(()=>[_("form",{onSubmit:T(q,["prevent"]),method:"POST"},[_("div",z,[_("div",G,[o(g,{name:"name",standout:"",modelValue:l(e).kharif_crops_name,"onUpdate:modelValue":i[0]||(i[0]=t=>l(e).kharif_crops_name=t),error:!!l(e).errors.kharif_crops_name,"error-message":l(e).errors.kharif_crops_name,dense:"",placeholder:"Kharif Name *"},{prepend:n(()=>[o(h,{name:"add"})]),_:1},8,["modelValue","error","error-message"]),o(g,{name:"name",standout:"",modelValue:l(e).kharif_crops_code,"onUpdate:modelValue":i[1]||(i[1]=t=>l(e).kharif_crops_code=t),error:!!l(e).errors.kharif_crops_code,"error-message":l(e).errors.kharif_crops_code,dense:"",placeholder:"Kharif Code"},{prepend:n(()=>[o(h,{name:"code"})]),_:1},8,["modelValue","error","error-message"]),o(d,{label:"Submit",dense:"",color:"black",type:"submit",disable:l(e).processing},null,8,["disable"])])])],40,Q)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};export{J as default};
