import{u as y,n as f,T as S,o as k,a as C,b as i,d as o,g as s,z as Q,Q as t,q as P,B as x,D as T,m as E,s as V,w as A,f as q,e as r,O as D,C as N}from"./app-34eb093c.js";import{Q as B,a as M}from"./QTable-2ac1820a.js";import"./QSelect-f4d18824.js";import"./QChip-92b2a9c8.js";const O={class:"row justify-center"},G={class:"col-xs-12 col-md-9 col-xl-7"},U=i("span",{class:"text-weight-bold"},"Greenhouse Plant",-1),$=["onSubmit"],j={class:"q-pa-sm"},z={class:"q-gutter-x-md column"},J={__name:"ManageGreenhousePlants",props:{plants:[]},setup(g){const c=g,e=y();c.users,c.districts,c.roles;const m=f(!1),d=f(!1),p=[{name:"Plant Name",align:"left",label:"Plant Name",field:"name"},{name:"actions",align:"right",label:"Actions",field:"id"}],a=S({id:0,name:""}),h=()=>{d.value=!0,m.value=!1},b=()=>{m.value===!1?a.post(route("manage-greenhouse-plants.store"),{onStart:()=>e.loading.show(),onSuccess:()=>{e.loading.hide(),e.notify({message:"Successfully Added"})},onError:()=>{e.loading.hide(),e.notify({message:"Error Try Again"})}}):a.put(route("manage-greenhouse-plants.update",a.id),{onStart:()=>e.loading.show(),onSuccess:()=>{e.loading.hide(),e.notify({message:"Updated"})},onError:()=>{e.loading.hide(),e.notify({message:"Error Try Again"})}})},_=n=>{d.value=!0,m.value=!0,a.id=n.id,a.name=n.name},v=n=>{e.dialog({title:"Confirm Delete",message:"Are you sure?",ok:"Yes",cancel:"No"}).onOk(()=>{D.delete(route("manage-greenhouse-plants.destroy",n),{onStart:()=>e.loading.show({message:"Deleting...."}),onFinish:()=>e.loading.hide(),onSuccess:()=>e.loading.hide(),onError:()=>e.loading.hide(),preserveState:!1})}).onCancel(()=>{})};return(n,u)=>(k(),C("div",O,[i("div",G,[o(B,{flat:"",bordered:"",title:"Manage Greenhouse Plants",rows:g.plants,columns:p,"row-key":"name",pagination:n.initialPagination},{"top-right":s(()=>[o(t,{outline:"",rounded:"",label:"Add Plant",dense:"",flat:"",class:"text-white q-px-lg q-mx-lg",style:{"background-color":"#2e6525"},onClick:h})]),"body-cell-actions":s(l=>[o(M,{props:l},{default:s(()=>[o(t,{dense:"",round:"",flat:"",onClick:w=>_(l.row),icon:"edit",style:{color:"#2e6525"}},null,8,["onClick"]),o(t,{dense:"",round:"",flat:"",color:"red",onClick:w=>v(l.row.id),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"]),o(Q,{modelValue:d.value,"onUpdate:modelValue":u[1]||(u[1]=l=>d.value=l)},{default:s(()=>[o(P,null,{default:s(()=>[o(x,null,{default:s(()=>[o(T,null,{default:s(()=>[U]),_:1}),E(o(t,{flat:"",round:"",dense:"",icon:"close"},null,512),[[N]])]),_:1}),o(V,null,{default:s(()=>[i("form",{onSubmit:A(b,["prevent"]),method:"POST"},[i("div",j,[i("div",z,[o(q,{name:"name",standout:"",modelValue:r(a).name,"onUpdate:modelValue":u[0]||(u[0]=l=>r(a).name=l),error:!!r(a).errors.name,"error-message":r(a).errors.name,dense:"",placeholder:"Plant Name *"},null,8,["modelValue","error","error-message"]),o(t,{label:"Submit",dense:"",color:"black",type:"submit",disable:r(a).processing},null,8,["disable"])])])],40,$)]),_:1})]),_:1})]),_:1},8,["modelValue"])])]))}};export{J as default};
