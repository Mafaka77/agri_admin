import{Q as R,a as V}from"./QBreadcrumbs-855a85fc.js";import{u as H,n as d,T as $,o as z,a as K,b as s,d as a,g as i,w as J,e as o,f as u,Q as y,O as W,j as _,k as m,l as c,i as X}from"./app-ca8aabdc.js";import{Q as p}from"./QSelect-1ba822db.js";import{Q as Y}from"./QFile-e743acb7.js";import"./QChip-8cf16d22.js";const Z={class:"row justify-center"},ee={class:"col-md-9 col-xl-12 q-pa-md",style:{"background-color":"white"}},oe=s("div",{class:"q-pt-md text-lg"},"Farm Land & Agriculture Details",-1),le={class:"q-gutter-x-md column"},re=["onSubmit"],ae={class:"row justify-around q-pt-md"},se={class:"col-xs-12 col-md-5"},ie={class:"col-xs-12 col-md-5"},te={class:"row justify-around"},ne={class:"col-xs-12 col-md-5"},de={class:"col-xs-12 col-md-5"},ue=s("div",null,"Farm Location",-1),_e={class:"row justify-around"},me={class:"col-xs-12 col-md-5"},ce={class:"col-xs-12 col-md-5"},pe={class:"row justify-around"},ge={class:"col-xs-12 col-md-5"},fe={class:"col-xs-12 col-md-5"},ve={class:"row justify-around"},he={class:"col-xs-12 col-md-5"},be={class:"col-xs-12 col-md-5"},Ve={class:"row justify-around"},ye={class:"col-xs-12 col-md-5"},De=s("div",{class:"col-xs-12 col-md-5"},null,-1),ke=s("div",null,"Landholding Documents with details(LSC/P.Patta/VC PASS)",-1),xe={class:"row justify-around"},we={class:"col-xs-12 col-md-5"},Se={class:"col-xs-12 col-md-5"},Ue={class:"row justify-around"},qe={class:"col-xs-12 col-md-5"},Ce=s("div",{class:"col-xs-12 col-md-5"},null,-1),Fe=s("div",{class:"q-pt-md"},"Irrigation & Machinery Details",-1),Le={class:"row justify-around"},je={class:"col-xs-12 col-md-5"},Ae={class:"col-xs-12 col-md-5"},Ie={class:"row justify-around"},Ne={class:"col-xs-12 col-md-5"},Be={class:"col-xs-12 col-md-5"},Qe=s("div",null,"Crop Details",-1),Oe={class:"row justify-around"},Pe={class:"col-xs-12 col-md-5"},Te={class:"col-xs-12 col-md-5"},Me={class:"row justify-around"},Ee={class:"col-xs-12 col-md-5"},Ge={class:"col-xs-12 col-md-5"},Re={class:"row justify-center q-mt-md"},He=s("div",{style:{width:"15px"}},null,-1),Xe={__name:"EditFarmerAgriFarmDetailPage",props:{landDetails:Object,district:[],ownership_type:[],irrigation:[],equipment:[],kharifCrops:[],rabiCrops:[],landHolding:[]},setup(f){const t=f,g=H(),v=d(!0),h=d(!0),D=d(!0),k=d([]),x=d([]),b=d([]),w=d([]),S=d(t.landDetails.block.block_name),U=d(t.landDetails.village.village_name),q=d(t.landDetails.sub_division.sub_division_name),e=$({farmers_id:t.landDetails.farmers_id,farmer_agri_id:t.landDetails.farmer_agri_id,land_owner_name:t.landDetails.land_owner_name,area_of_land:t.landDetails.area_of_land,acres_or_hectares:"Acres",latitude:t.landDetails.latitude,longitude:t.landDetails.longitude,altitude:t.landDetails.altitude,district_id:t.landDetails.district_id,sub_division_id:t.landDetails.sub_division_id,block_id:t.landDetails.block_id,village_id:t.landDetails.village_id,ownership_type_id:t.landDetails.ownership_type_id,landholding_documents_number:t.landDetails.landholding_documents_number,land_holding_file:t.landDetails.land_holding_file,irrigation_infrastructures:t.landDetails.irrigation_infrastructures,other_irrigation_infrastructure:t.landDetails.other_irrigation_infrastructure,farm_equipments:t.landDetails.farm_equipments,other_farm_equipment:t.landDetails.other_farm_equipment,kharif_crops:t.landDetails.kharif_crops,kharif_acres_or_hectares:"Acres",kharif_total_area:t.landDetails.kharif_total_area,rabi_crops:t.landDetails.rabi_crops,rabi_acres_or_hectares:"Acres",rabi_total_area:t.landDetails.rabi_total_area,land_holding_id:t.landDetails.land_holding_id}),L=n=>{axios.get(route("get-sub-division",n)).then(l=>{const{data:r}=l.data;v.value=!1,h.value=!1,k.value=r,e.sub_division_id=""})},j=n=>{axios.get(route("get-block",n)).then(l=>{const{data:r}=l.data;v.value=!1,x.value=r,e.block_id="",e.village_id=""})},A=n=>{axios.get(route("get-village",n)).then(l=>{const{data:r}=l.data;v.value=!1,h.value=!1,D.value=!1,b.value=r,w.value=r})},I=()=>{e.transform(n=>({irrigation_infrastructure_ids:n.irrigation_infrastructures.map(l=>l.id),farm_equipment_ids:n.farm_equipments.map(l=>l.id),kharif_crop_ids:n.kharif_crops.map(l=>l.id),rabi_crop_ids:n.rabi_crops.map(l=>l.id),...n})).put(route("farmer-agriculture-land.update",t.landDetails.id),{onStart:()=>{g.loading.show()},onSuccess:()=>{g.loading.hide(),g.notify({message:"Farmer Agriculture Land Updated",closeBtn:!0})},onFinish:()=>{g.loading.hide()}})},N=(n,l,r)=>{l(()=>{const E=n.toLocaleLowerCase(),F=d([]);F.value=[...w.value],b.value=F.value.filter(G=>G.village_name.toLowerCase().indexOf(E)>-1)})},B=n=>{U.value=n},Q=n=>{S.value=n},O=n=>{q.value=n},P=n=>{g.notify({type:"negative",message:`${n.length} file(s) did not pass validation constraints`})},C=()=>{W.get(route("farmer-details",t.landDetails.farmers_id))},T=n=>{const l=new FormData;l.append("land_holding_file",e.land_holding_file),g.loading.show({message:"File uploading......"}),axios.post(route("upload-land-holding-file"),l,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>{g.loading.hide(),e.land_holding_file=r.data.data,console.log(e.land_holding_file),g.notify({type:"positive",message:"File Uploaded Successfully"})}).catch(r=>{g.notify({type:"negative",message:r})})},M=n=>{window.open("/storage/"+n,"_blank")};return(n,l)=>(z(),K("div",Z,[s("div",ee,[a(R,null,{default:i(()=>[a(V,{icon:"home",onClick:l[0]||(l[0]=r=>n.$inertia.get(n.route("manage-farmer")))}),a(V,{label:"Farmer Details",icon:"add_task",onClick:C}),a(V,{label:"Edit Farm Land & Agriculture Details",icon:"edit"})]),_:1}),oe,s("div",le,[s("form",{onSubmit:J(I,["prevent"]),method:"POST"},[s("div",ae,[s("div",se,[a(u,{name:"full_name",outlined:"",color:"green",modelValue:o(e).farmer_agri_id,"onUpdate:modelValue":l[1]||(l[1]=r=>o(e).farmer_agri_id=r),error:!!o(e).errors.farmer_agri_id,"error-message":o(e).errors.farmer_agri_id,dense:"",label:"Farmer ID(Provided by Central Govt) *"},null,8,["modelValue","error","error-message"])]),s("div",ie,[a(u,{disable:"",name:"full_name",outlined:"",color:"green",modelValue:o(e).land_owner_name,"onUpdate:modelValue":l[2]||(l[2]=r=>o(e).land_owner_name=r),error:!!o(e).errors.land_owner_name,"error-message":o(e).errors.land_owner_name,dense:"",label:"Land Owner Name *"},null,8,["modelValue","error","error-message"])])]),s("div",te,[s("div",ne,[a(u,{name:"full_name",outlined:"",color:"green",modelValue:o(e).area_of_land,"onUpdate:modelValue":l[3]||(l[3]=r=>o(e).area_of_land=r),error:!!o(e).errors.area_of_land,"error-message":o(e).errors.area_of_land,dense:"",label:"Total Farm Area in (Acres) *"},null,8,["modelValue","error","error-message"])]),s("div",de,[a(p,{modelValue:o(e).land_holding_id,"onUpdate:modelValue":l[4]||(l[4]=r=>o(e).land_holding_id=r),error:!!o(e).errors.land_holding_id,"error-message":o(e).errors.land_holding_id,options:f.landHolding,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"land_holding_name","option-value":"id",placeholder:"Select LandHolding *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])])]),ue,s("div",_e,[s("div",me,[a(p,{modelValue:o(e).district_id,"onUpdate:modelValue":[l[5]||(l[5]=r=>o(e).district_id=r),L,j],error:!!o(e).errors.district_id,"error-message":o(e).errors.district_id,options:f.district,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"district_name","option-value":"id",placeholder:"Select District *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",ce,[a(p,{modelValue:o(e).sub_division_id,"onUpdate:modelValue":l[6]||(l[6]=r=>o(e).sub_division_id=r),error:!!o(e).errors.sub_division_id,"error-message":o(e).errors.sub_division_id,options:k.value,dense:"","emit-value":"",disable:v.value,"model-value":q.value,onInputValue:O,"fill-input":"","hide-selected":"","map-options":"","option-label":"sub_division_name","option-value":"id",placeholder:"Select Sub Division *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options","disable","model-value"])])]),s("div",pe,[s("div",ge,[a(p,{modelValue:o(e).block_id,"onUpdate:modelValue":[l[7]||(l[7]=r=>o(e).block_id=r),A],error:!!o(e).errors.block_id,"error-message":o(e).errors.block_id,options:x.value,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"block_name","option-value":"id","model-value":S.value,onInputValue:Q,disable:h.value,placeholder:"Select RD Block *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options","model-value","disable"])]),s("div",fe,[a(p,{modelValue:o(e).village_id,"onUpdate:modelValue":[l[8]||(l[8]=r=>o(e).village_id=r),n.assignVillageLGD],error:!!o(e).errors.village_id,"error-message":o(e).errors.village_id,options:b.value,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"village_name","option-value":"id",onFilter:N,onInputValue:B,"model-value":U.value,disable:D.value,placeholder:"Select or Search Village *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options","model-value","disable","onUpdate:modelValue"])])]),s("div",ve,[s("div",he,[a(u,{name:"village_locality",outlined:"",color:"green",modelValue:o(e).latitude,"onUpdate:modelValue":l[9]||(l[9]=r=>o(e).latitude=r),error:!!o(e).errors.latitude,"error-message":o(e).errors.latitude,dense:"",label:"Latitude *"},null,8,["modelValue","error","error-message"])]),s("div",be,[a(u,{name:"village_locality",outlined:"",color:"green",modelValue:o(e).longitude,"onUpdate:modelValue":l[10]||(l[10]=r=>o(e).longitude=r),error:!!o(e).errors.longitude,"error-message":o(e).errors.longitude,dense:"",label:"Longitude *"},null,8,["modelValue","error","error-message"])])]),s("div",Ve,[s("div",ye,[a(u,{name:"village_locality",outlined:"",color:"green",modelValue:o(e).altitude,"onUpdate:modelValue":l[11]||(l[11]=r=>o(e).altitude=r),error:!!o(e).errors.altitude,"error-message":o(e).errors.altitude,dense:"",label:"Altitude *"},null,8,["modelValue","error","error-message"])]),De]),ke,s("div",xe,[s("div",we,[a(p,{modelValue:o(e).ownership_type_id,"onUpdate:modelValue":l[12]||(l[12]=r=>o(e).ownership_type_id=r),error:!!o(e).errors.ownership_type_id,"error-message":o(e).errors.ownership_type_id,options:f.ownership_type,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"ownership_type_name","option-value":"id",placeholder:"Select Ownership Type *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",Se,[a(u,{name:"landholding_document_number",outlined:"",color:"green",modelValue:o(e).landholding_documents_number,"onUpdate:modelValue":l[13]||(l[13]=r=>o(e).landholding_documents_number=r),error:!!o(e).errors.landholding_documents_number,"error-message":o(e).errors.landholding_documents_number,dense:"",label:"Landholding Documents Number(LSC/P.Patta/VC PASS)*"},null,8,["modelValue","error","error-message"])])]),s("div",Ue,[s("div",qe,[a(Y,{"display-value":o(e).land_holding_file,modelValue:o(e).land_holding_file,"onUpdate:modelValue":[l[15]||(l[15]=r=>o(e).land_holding_file=r),T],error:!!o(e).errors.land_holding_file,"error-message":o(e).errors.land_holding_file,label:"Upload Land Document (Below <3Mb)",dense:"",counter:"",outlined:"","max-file-size":"3145728",onRejected:P},{prepend:i(()=>[a(X,{name:"attach_file"})]),append:i(()=>[a(y,{flat:"",icon:"preview",color:"green",dense:"",onClick:l[14]||(l[14]=r=>M(o(e).land_holding_file))})]),_:1},8,["display-value","modelValue","error","error-message"])]),Ce]),Fe,s("div",Le,[s("div",je,[a(p,{modelValue:o(e).irrigation_infrastructures,"onUpdate:modelValue":l[16]||(l[16]=r=>o(e).irrigation_infrastructures=r),error:!!o(e).errors.irrigation_infrastructures,"error-message":o(e).errors.irrigation_infrastructures,options:f.irrigation,dense:"","option-label":"irrigation_infrastructures_name","option-value":"id",multiple:"","use-chips":"","stack-label":"",label:" Select Irrigation Infrastructure *",outlined:"",color:"green"},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",Ae,[s("div",null,[a(u,{outlined:"",color:"green",modelValue:o(e).other_irrigation_infrastructure,"onUpdate:modelValue":l[17]||(l[17]=r=>o(e).other_irrigation_infrastructure=r),error:!!o(e).errors.other_irrigation_infrastructure,"error-message":o(e).errors.other_irrigation_infrastructure,dense:"",label:"Others(If Any)"},null,8,["modelValue","error","error-message"])])])]),s("div",Ie,[s("div",Ne,[a(p,{modelValue:o(e).farm_equipments,"onUpdate:modelValue":l[18]||(l[18]=r=>o(e).farm_equipments=r),error:!!o(e).errors.farm_equipments,"error-message":o(e).errors.farm_equipments,options:f.equipment,dense:"","option-label":"equipment_name","option-value":"id",multiple:"","use-chips":"","stack-label":"",label:" Farm Machinery/Equiments *",outlined:"",color:"green"},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",Be,[a(u,{outlined:"",color:"green",modelValue:o(e).other_farm_equipment,"onUpdate:modelValue":l[19]||(l[19]=r=>o(e).other_farm_equipment=r),error:!!o(e).errors.other_farm_equipment,"error-message":o(e).errors.other_farm_equipment,dense:"",label:"Others(If Any)"},null,8,["modelValue","error","error-message"])])]),Qe,s("div",Oe,[s("div",Pe,[a(p,{modelValue:o(e).kharif_crops,"onUpdate:modelValue":l[20]||(l[20]=r=>o(e).kharif_crops=r),error:!!o(e).errors.kharif_crops,"error-message":o(e).errors.kharif_crops,options:f.kharifCrops,dense:"","option-label":"kharif_crops_name","option-value":"id",multiple:"","use-chips":"","stack-label":"",label:" Crops Grown(Kharif) *",outlined:"",color:"green"},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",Te,[a(u,{name:"full_name",outlined:"",color:"green",modelValue:o(e).kharif_total_area,"onUpdate:modelValue":l[21]||(l[21]=r=>o(e).kharif_total_area=r),error:!!o(e).errors.kharif_total_area,"error-message":o(e).errors.kharif_total_area,dense:"",label:"Total Farm Area in (Acres) *"},null,8,["modelValue","error","error-message"])])]),s("div",Me,[s("div",Ee,[a(p,{modelValue:o(e).rabi_crops,"onUpdate:modelValue":l[22]||(l[22]=r=>o(e).rabi_crops=r),error:!!o(e).errors.rabi_crops,"error-message":o(e).errors.rabi_crops,options:f.rabiCrops,dense:"","option-label":"rabi_crops_name","option-value":"id",multiple:"","use-chips":"","stack-label":"",label:" Crops Grown(Rabi)*",outlined:"",color:"green"},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",Ge,[a(u,{name:"full_name",outlined:"",color:"green",modelValue:o(e).rabi_total_area,"onUpdate:modelValue":l[23]||(l[23]=r=>o(e).rabi_total_area=r),error:!!o(e).errors.rabi_total_area,"error-message":o(e).errors.rabi_total_area,dense:"",label:"Total Farm Area in (Acres) *"},null,8,["modelValue","error","error-message"])])]),s("div",Re,[a(y,{label:"Back",outline:"",dense:"",rounded:"",style:{color:"#2e6525",padding:"5px 40px 5px"},onClick:C}),He,a(y,{flat:"",rounded:"",label:"Confirm",type:"submit",style:{padding:"5px 30px 5px","background-color":"#2e6525",color:"white"}})])],40,re)])])]))}};export{Xe as default};
