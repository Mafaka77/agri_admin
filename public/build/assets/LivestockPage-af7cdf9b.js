import{u as C,n as m,T as Q,o as S,a as y,d as e,w as t,s as x,b as r,g as i,p as L,v as q,x as B,m as V,q as T,Q as D,f as d,i as N,e as A,O as E,C as O}from"./app-9f8d538c.js";import{Q as P,a as F}from"./QTable-0250251a.js";import"./QSelect-c51e5f66.js";import"./QChip-6492b354.js";const I={class:"q-pl-xl q-pr-xl"},M=r("div",{class:"row"},null,-1),U=r("span",{class:"text-weight-bold"}," Kharif Crops",-1),$=["onSubmit"],K={class:"q-pa-md"},j={class:"q-gutter-x-md column"},R={__name:"LivestockPage",props:{livestock:[]},setup(p){const v=p,o=C(),f=m(v.livestock),u=m(!1),n=m(!1),g=[{name:"id",align:"left",label:"ID",field:"id"},{name:"livestock_name",align:"left",label:"Livestock Name",field:"livestock_name"},{name:"actions",align:"right",label:"Actions",field:"id"}],s=Q({id:0,livestock_name:""}),k=()=>{s.reset(),n.value=!0,u.value=!1},_=l=>{u.value=!0,n.value=!0,s.id=l.id,s.livestock_name=l.livestock_name},h=()=>{u.value===!1?s.post(route("livestock.store"),{onStart:()=>o.loading.show(),onSuccess:()=>{s.reset(),f.value=v.livestock,o.notify({message:"Livestock created",icon:"check",iconColor:"blue",closeBtn:!0})},onError:l=>{console.log(l),o.notify({message:l.message,icon:"warning",iconColor:"red",closeBtn:!0})},onFinish:()=>o.loading.hide()}):s.put(route("livestock.update",s.id),{onStart:()=>o.loading.show(),onSuccess:()=>{n.value=!1,o.notify({message:"Livestock updated",closeBtn:!0,icon:"check",iconColor:"blue"}),o.loading.hide()},onFinish:()=>o.loading.hide(),preserveState:!1})},b=l=>{o.dialog({title:"Confirm Delete",message:"Are you sure?",cancel:"No"}).onOk(()=>{E.delete(route("livestock.destroy",l),{onStart:()=>o.loading.show({message:"Deleting...."}),onSuccess:()=>{o.notify({message:"Livestock deleted",closeBtn:!0}),o.loading.hide()},onFinish:()=>o.loading.hide(),preserveState:!1})})};return(l,c)=>(S(),y("div",I,[M,e(P,{flat:"",bordered:"",title:"Livestock",rows:f.value,columns:g,"row-key":"name",pagination:l.initialPagination},{"top-right":t(()=>[e(i,{outline:"",rounded:"",label:"Add Livestock",dense:"",flat:"",class:"text-white q-px-lg q-mx-lg",style:{"background-color":"#2e6525"},onClick:k})]),"body-cell-actions":t(a=>[e(F,{props:a},{default:t(()=>[e(i,{dense:"",round:"",flat:"",onClick:w=>_(a.row),icon:"edit",style:{color:"#2e6525"}},null,8,["onClick"]),e(i,{dense:"",round:"",flat:"",color:"red",onClick:w=>b(a.row.id),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"]),e(x,{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=a=>n.value=a)},{default:t(()=>[e(L,null,{default:t(()=>[e(q,null,{default:t(()=>[e(B,null,{default:t(()=>[U]),_:1}),V(e(i,{flat:"",round:"",dense:"",icon:"close"},null,512),[[O]])]),_:1}),e(T,null,{default:t(()=>[r("form",{onSubmit:A(h,["prevent"]),method:"POST"},[r("div",K,[r("div",j,[e(D,{name:"name",standout:"",modelValue:d(s).livestock_name,"onUpdate:modelValue":c[0]||(c[0]=a=>d(s).livestock_name=a),error:!!d(s).errors.livestock_name,"error-message":d(s).errors.livestock_name,dense:"",placeholder:"Livestock Name *"},{prepend:t(()=>[e(N,{name:"add"})]),_:1},8,["modelValue","error","error-message"]),e(i,{label:"Submit",dense:"",color:"black",type:"submit",disable:d(s).processing},null,8,["disable"])])])],40,$)]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{R as default};
