import{u as V,A as x,n as h,o as d,a as u,b as i,d as t,g as s,l as p,O as m,t as q,f as P,s as N,e as n,v as T,i as C,Q as y,aj as A,w as E}from"./app-57320857.js";import{Q as $}from"./QSelect-64f83594.js";import{Q as D,a as _}from"./QTable-09f01bce.js";import{Q as g}from"./QBadge-671d6d38.js";import"./QChip-fae53b0f.js";const j={class:"container row"},O={class:"col-xs-12 col-md-12",style:{"background-color":"white"}},I={class:"column q-gutter-md"},R={class:"row"},U={class:"text-bold"},K={style:{color:"#2e6525"}},L={class:"column q-gutter-y-md"},M={key:0},z={key:0},G={key:1},H={key:2},J={key:3},re={__name:"SupervisorManageFarmerPage",props:{farmers:[],district:Object},setup(f){const c=f,o=V(),l=x(),v=h({page:c.farmers.current_page,rowsPerPage:c.farmers.per_page,rowsNumber:c.farmers.total}),F=h(c.farmers.data),w=[{name:"farmer_id",required:!0,label:"Farmer ID",align:"left",field:a=>a.farmer_id,sortable:!0},{name:"full_name",align:"center",label:"Farmer Name",field:"full_name",sortable:!0},{name:"verification",align:"center",label:"Verification",field:a=>a.verification,sortable:!0},{name:"enumerator",align:"center",label:"Enumerator",field:a=>a.user.name,sortable:!0},{name:"actions",align:"right",field:"id"}],k=[{label:"Pending",value:"Pending"},{label:"Submitted",value:"Submitted"},{label:"Approved",value:"Approved"},{label:"Rejected",value:"Rejected"}];function S(a){const{page:r,rowsPerPage:e}=a.pagination;m.get(route("manage-farmer"),{per_page:e,page:r},{})}const b=a=>{m.get(route("manage-farmer"),{search:a,per_page:10,page:1},{onStart:()=>o.loading.show(),onSuccess:()=>o.loading.hide(),onFinish:()=>o.loading.hide(),onError:()=>o.loading.hide()})},B=a=>{m.get(route("manage-farmer"),{search:a,per_page:10,page:1,filterBy:l.supervisorFilterBy},{onStart:()=>o.loading.show(),onSuccess:()=>o.loading.hide(),onFinish:()=>o.loading.hide(),onError:()=>o.loading.hide()})},Q=a=>{l.supervisorFilterBy="",m.get(route("manage-farmer"),{search:a,per_page:10,page:1,filterBy:l.supervisorFilterBy},{onStart:()=>o.loading.show(),onSuccess:()=>o.loading.hide(),onFinish:()=>o.loading.hide(),onError:()=>o.loading.hide()})};return(a,r)=>(d(),u("div",j,[i("div",O,[t(D,{"table-header-style":{backgroundColor:"#302e2a"},"table-header-class":"text-white",flat:"",bordered:"",title:"Farmers",rows:F.value,columns:w,onRequest:S,"rows-per-page-options":[2,5,7,15,30,50],pagination:v.value,"onUpdate:pagination":r[6]||(r[6]=e=>v.value=e)},{"top-left":s(()=>[i("div",I,[i("div",R,[p("Farmer List for   "),i("div",U,q(f.district.district_name),1)]),p("̵ "),i("div",null,[t(P,{outlined:"",debounce:"300",dense:"",label:"Search by Name",onKeyup:r[0]||(r[0]=N(E(e=>b(n(l).searchFarmerText),["prevent"]),["enter"])),modelValue:n(l).searchFarmerText,"onUpdate:modelValue":r[1]||(r[1]=e=>n(l).searchFarmerText=e),clearable:"",onClear:r[2]||(r[2]=e=>b(""))},{append:s(()=>[t(T,null,{default:s(()=>[t(C,{name:"search"})]),_:1})]),_:1},8,["modelValue"])])])]),"top-right":s(()=>[i("div",K,[i("div",L,[t($,{modelValue:n(l).supervisorFilterBy,"onUpdate:modelValue":[r[4]||(r[4]=e=>n(l).supervisorFilterBy=e),r[5]||(r[5]=e=>B(n(l).searchFarmerText))],outlined:"",dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"label","option-value":"value",placeholder:"Filter by Verification",color:"green","use-input":"",options:k},{after:s(()=>[n(l).supervisorFilterBy!=""?(d(),u("div",M,[t(y,{icon:"clear",flat:"",dense:"",onClick:r[3]||(r[3]=e=>Q(n(l).searchFarmerText))})])):A("",!0)]),_:1},8,["modelValue"])])])]),"body-cell-actions":s(e=>[t(_,{props:e},{default:s(()=>[t(y,{dense:"",round:"",flat:"",onClick:W=>a.$inertia.get(a.route("supervisor-approval-index",e.row.id)),label:"OPEN",style:{color:"#2e6525"}},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-verification":s(e=>[t(_,{props:e},{default:s(()=>[e.value==="Submitted"?(d(),u("div",z,[t(g,{class:"q-pa-sm",style:{"background-color":"#f8f2e1",color:"#cd9f27"},label:e.value},null,8,["label"])])):e.value==="Pending"?(d(),u("div",G,[t(g,{class:"q-pa-sm",style:{"background-color":"darkgrey"},label:e.value},null,8,["label"])])):e.value==="Approved"?(d(),u("div",H,[t(g,{class:"q-pa-sm",style:{"background-color":"#59964f"},label:e.value},null,8,["label"])])):(d(),u("div",J,[t(g,{class:"q-pa-sm",style:{"background-color":"#ffe8e8",color:"red"},label:e.value},null,8,["label"])]))]),_:2},1032,["props"])]),_:1},8,["rows","pagination"])]),p(" ̵")]))}};export{re as default};
