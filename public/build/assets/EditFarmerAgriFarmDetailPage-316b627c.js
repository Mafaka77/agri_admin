import{u as H,k as m,T as $,r as f,o as z,b as K,d as s,e as r,w as i,f as Q,g as o,O as J,i as g}from"./app-87b9f07e.js";const W={class:"row justify-center"},X={class:"col-md-9 col-xl-12 q-pa-md",style:{"background-color":"white"}},Y=s("div",{class:"q-pt-md text-lg"},"Farm Land & Agriculture Details",-1),Z={class:"q-gutter-x-md column"},ee=["onSubmit"],oe={class:"row justify-around q-pt-md"},le={class:"col-xs-12 col-md-5"},re={class:"col-xs-12 col-md-5"},se={class:"row justify-around"},ae={class:"col-xs-12 col-md-5"},ie={class:"col-xs-12 col-md-5"},te=s("div",null,"Farm Location",-1),ne={class:"row justify-around"},de={class:"col-xs-12 col-md-5"},ue={class:"col-xs-12 col-md-5"},_e={class:"row justify-around"},me={class:"col-xs-12 col-md-5"},ce={class:"col-xs-12 col-md-5"},pe={class:"row justify-around"},ge={class:"col-xs-12 col-md-5"},fe={class:"col-xs-12 col-md-5"},ve={class:"row justify-around"},be={class:"col-xs-12 col-md-5"},he=s("div",{class:"col-xs-12 col-md-5"},null,-1),Ve=s("div",null,"Landholding Documents with details(LSC/P.Patta/VC PASS)",-1),ye={class:"row justify-around"},De={class:"col-xs-12 col-md-5"},xe={class:"col-xs-12 col-md-5"},ke={class:"row justify-around"},we={class:"col-xs-12 col-md-5"},qe=s("div",{class:"col-xs-12 col-md-5"},null,-1),Ue=s("div",{class:"q-pt-md"},"Irrigation & Machinery Details",-1),Se={class:"row justify-around"},Ce={class:"col-xs-12 col-md-5"},Le={class:"col-xs-12 col-md-5"},Ae={class:"row justify-around"},Fe={class:"col-xs-12 col-md-5"},je={class:"col-xs-12 col-md-5"},Ne=s("div",null,"Crop Details",-1),Ie={class:"row justify-around"},Be={class:"col-xs-12 col-md-5"},Oe={class:"col-xs-12 col-md-5"},Pe={class:"row justify-around"},Te={class:"col-xs-12 col-md-5"},Me={class:"col-xs-12 col-md-5"},Ee={class:"row justify-center q-mt-md"},Ge=s("div",{style:{width:"15px"}},null,-1),He={__name:"EditFarmerAgriFarmDetailPage",props:{landDetails:Object,district:[],ownership_type:[],irrigation:[],equipment:[],kharifCrops:[],rabiCrops:[],landHolding:[]},setup(v){const t=v,b=H(),h=m(!0),V=m(!0),x=m(!0),k=m([]),w=m([]),y=m([]),q=m([]),U=m(t.landDetails.block.block_name),S=m(t.landDetails.village.village_name),C=m(t.landDetails.sub_division.sub_division_name),e=$({farmers_id:t.landDetails.farmers_id,farmer_agri_id:t.landDetails.farmer_agri_id,land_owner_name:t.landDetails.land_owner_name,area_of_land:t.landDetails.area_of_land,acres_or_hectares:"Acres",latitude:t.landDetails.latitude,longitude:t.landDetails.longitude,altitude:t.landDetails.altitude,district_id:t.landDetails.district_id,sub_division_id:t.landDetails.sub_division_id,block_id:t.landDetails.block_id,village_id:t.landDetails.village_id,ownership_type_id:t.landDetails.ownership_type_id,landholding_documents_number:t.landDetails.landholding_documents_number,land_holding_file:t.landDetails.land_holding_file,irrigation_infrastructures:t.landDetails.irrigation_infrastructures,other_irrigation_infrastructure:t.landDetails.other_irrigation_infrastructure,farm_equipments:t.landDetails.farm_equipments,other_farm_equipment:t.landDetails.other_farm_equipment,kharif_crops:t.landDetails.kharif_crops,kharif_acres_or_hectares:"Acres",kharif_total_area:t.landDetails.kharif_total_area,rabi_crops:t.landDetails.rabi_crops,rabi_acres_or_hectares:"Acres",rabi_total_area:t.landDetails.rabi_total_area,land_holding_id:t.landDetails.land_holding_id}),F=n=>{axios.get(route("get-sub-division",n)).then(l=>{const{data:d}=l.data;h.value=!1,V.value=!1,k.value=d,e.sub_division_id=""})},j=n=>{axios.get(route("get-block",n)).then(l=>{const{data:d}=l.data;h.value=!1,w.value=d,e.block_id="",e.village_id=""})},N=n=>{axios.get(route("get-village",n)).then(l=>{const{data:d}=l.data;h.value=!1,V.value=!1,x.value=!1,y.value=d,q.value=d})},I=()=>{e.transform(n=>({irrigation_infrastructure_ids:n.irrigation_infrastructures.map(l=>l.id),farm_equipment_ids:n.farm_equipments.map(l=>l.id),kharif_crop_ids:n.kharif_crops.map(l=>l.id),rabi_crop_ids:n.rabi_crops.map(l=>l.id),...n})).put(route("farmer-agriculture-land.update",t.landDetails.id),{onStart:()=>{b.loading.show()},onSuccess:()=>{b.loading.hide(),b.notify({message:"Farmer Agriculture Land Updated",closeBtn:!0})}})},B=(n,l,d)=>{l(()=>{const D=n.toLocaleLowerCase(),u=m([]);u.value=[...q.value],y.value=u.value.filter(_=>_.village_name.toLowerCase().indexOf(D)>-1)})},O=n=>{S.value=n},P=n=>{U.value=n},T=n=>{C.value=n},M=n=>{b.notify({type:"negative",message:`${n.length} file(s) did not pass validation constraints`})},L=()=>{J.get(route("farmer-details",t.farmerId))},E=n=>{const l=new FormData;l.append("land_holding_file",e.land_holding_file),b.loading.show({message:"File uploading......"}),axios.post(route("upload-land-holding-file"),l,{headers:{"Content-Type":"multipart/form-data"}}).then(d=>{b.loading.hide(),e.land_holding_file=d.data.data,console.log(e.land_holding_file),b.notify({type:"positive",message:"File Uploaded Successfully"})}).catch(d=>{b.notify({type:"negative",message:d})})};return(n,l)=>{const d=f("q-breadcrumbs-el"),D=f("q-breadcrumbs"),u=f("q-input"),_=f("q-item-section"),c=f("q-item"),p=f("q-select"),G=f("q-icon"),R=f("q-file"),A=f("q-btn");return z(),K("div",W,[s("div",X,[r(D,null,{default:i(()=>[r(d,{icon:"home",onClick:l[0]||(l[0]=a=>n.$inertia.get(n.route("manage-farmer")))}),r(d,{label:"Farmer Details",icon:"add_task",onClick:L}),r(d,{label:"Edit Farm Land & Agriculture Details",icon:"edit"})]),_:1}),Y,s("div",Z,[s("form",{onSubmit:Q(I,["prevent"]),method:"POST"},[s("div",oe,[s("div",le,[r(u,{name:"full_name",outlined:"",color:"green",modelValue:o(e).farmer_agri_id,"onUpdate:modelValue":l[1]||(l[1]=a=>o(e).farmer_agri_id=a),error:!!o(e).errors.farmer_agri_id,"error-message":o(e).errors.farmer_agri_id,dense:"",label:"Farmer ID(Provided by Central Govt) *"},null,8,["modelValue","error","error-message"])]),s("div",re,[r(u,{disable:"",name:"full_name",outlined:"",color:"green",modelValue:o(e).land_owner_name,"onUpdate:modelValue":l[2]||(l[2]=a=>o(e).land_owner_name=a),error:!!o(e).errors.land_owner_name,"error-message":o(e).errors.land_owner_name,dense:"",label:"Land Owner Name *"},null,8,["modelValue","error","error-message"])])]),s("div",se,[s("div",ae,[r(u,{name:"full_name",outlined:"",color:"green",modelValue:o(e).area_of_land,"onUpdate:modelValue":l[3]||(l[3]=a=>o(e).area_of_land=a),error:!!o(e).errors.area_of_land,"error-message":o(e).errors.area_of_land,dense:"",label:"Total Farm Area in (Acres) *"},null,8,["modelValue","error","error-message"])]),s("div",ie,[r(p,{modelValue:o(e).land_holding_id,"onUpdate:modelValue":l[4]||(l[4]=a=>o(e).land_holding_id=a),error:!!o(e).errors.land_holding_id,"error-message":o(e).errors.land_holding_id,options:v.landHolding,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"land_holding_name","option-value":"id",placeholder:"Select LandHolding *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[r(c,null,{default:i(()=>[r(_,{class:"text-gresy"},{default:i(()=>[g(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])])]),te,s("div",ne,[s("div",de,[r(p,{modelValue:o(e).district_id,"onUpdate:modelValue":[l[5]||(l[5]=a=>o(e).district_id=a),F,j],error:!!o(e).errors.district_id,"error-message":o(e).errors.district_id,options:v.district,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"district_name","option-value":"id",placeholder:"Select District *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[r(c,null,{default:i(()=>[r(_,{class:"text-gresy"},{default:i(()=>[g(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",ue,[r(p,{modelValue:o(e).sub_division_id,"onUpdate:modelValue":l[6]||(l[6]=a=>o(e).sub_division_id=a),error:!!o(e).errors.sub_division_id,"error-message":o(e).errors.sub_division_id,options:k.value,dense:"","emit-value":"",disable:h.value,"model-value":C.value,onInputValue:T,"fill-input":"","hide-selected":"","map-options":"","option-label":"sub_division_name","option-value":"id",placeholder:"Select Sub Division *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[r(c,null,{default:i(()=>[r(_,{class:"text-gresy"},{default:i(()=>[g(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options","disable","model-value"])])]),s("div",_e,[s("div",me,[r(p,{modelValue:o(e).block_id,"onUpdate:modelValue":[l[7]||(l[7]=a=>o(e).block_id=a),N],error:!!o(e).errors.block_id,"error-message":o(e).errors.block_id,options:w.value,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"block_name","option-value":"id","model-value":U.value,onInputValue:P,disable:V.value,placeholder:"Select RD Block *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[r(c,null,{default:i(()=>[r(_,{class:"text-gresy"},{default:i(()=>[g(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options","model-value","disable"])]),s("div",ce,[r(p,{modelValue:o(e).village_id,"onUpdate:modelValue":[l[8]||(l[8]=a=>o(e).village_id=a),n.assignVillageLGD],error:!!o(e).errors.village_id,"error-message":o(e).errors.village_id,options:y.value,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"village_name","option-value":"id",onFilter:B,onInputValue:O,"model-value":S.value,disable:x.value,placeholder:"Select or Search Village *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[r(c,null,{default:i(()=>[r(_,{class:"text-gresy"},{default:i(()=>[g(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options","model-value","disable","onUpdate:modelValue"])])]),s("div",pe,[s("div",ge,[r(u,{name:"village_locality",outlined:"",color:"green",modelValue:o(e).latitude,"onUpdate:modelValue":l[9]||(l[9]=a=>o(e).latitude=a),error:!!o(e).errors.latitude,"error-message":o(e).errors.latitude,dense:"",label:"Latitude *"},null,8,["modelValue","error","error-message"])]),s("div",fe,[r(u,{name:"village_locality",outlined:"",color:"green",modelValue:o(e).longitude,"onUpdate:modelValue":l[10]||(l[10]=a=>o(e).longitude=a),error:!!o(e).errors.longitude,"error-message":o(e).errors.longitude,dense:"",label:"Longitude *"},null,8,["modelValue","error","error-message"])])]),s("div",ve,[s("div",be,[r(u,{name:"village_locality",outlined:"",color:"green",modelValue:o(e).altitude,"onUpdate:modelValue":l[11]||(l[11]=a=>o(e).altitude=a),error:!!o(e).errors.altitude,"error-message":o(e).errors.altitude,dense:"",label:"Altitude *"},null,8,["modelValue","error","error-message"])]),he]),Ve,s("div",ye,[s("div",De,[r(p,{modelValue:o(e).ownership_type_id,"onUpdate:modelValue":l[12]||(l[12]=a=>o(e).ownership_type_id=a),error:!!o(e).errors.ownership_type_id,"error-message":o(e).errors.ownership_type_id,options:v.ownership_type,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"ownership_type_name","option-value":"id",placeholder:"Select Ownership Type *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[r(c,null,{default:i(()=>[r(_,{class:"text-gresy"},{default:i(()=>[g(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",xe,[r(u,{name:"landholding_document_number",outlined:"",color:"green",modelValue:o(e).landholding_documents_number,"onUpdate:modelValue":l[13]||(l[13]=a=>o(e).landholding_documents_number=a),error:!!o(e).errors.landholding_documents_number,"error-message":o(e).errors.landholding_documents_number,dense:"",label:"Landholding Documents Number(LSC/P.Patta/VC PASS)*"},null,8,["modelValue","error","error-message"])])]),s("div",ke,[s("div",we,[r(R,{"display-value":o(e).land_holding_file,modelValue:o(e).land_holding_file,"onUpdate:modelValue":[l[14]||(l[14]=a=>o(e).land_holding_file=a),E],error:!!o(e).errors.land_holding_file,"error-message":o(e).errors.land_holding_file,label:"Upload Land Document (Below <3Mb)",dense:"",counter:"",outlined:"","max-file-size":"3145728",onRejected:M},{prepend:i(()=>[r(G,{name:"attach_file"})]),_:1},8,["display-value","modelValue","error","error-message"])]),qe]),Ue,s("div",Se,[s("div",Ce,[r(p,{modelValue:o(e).irrigation_infrastructures,"onUpdate:modelValue":l[15]||(l[15]=a=>o(e).irrigation_infrastructures=a),error:!!o(e).errors.irrigation_infrastructures,"error-message":o(e).errors.irrigation_infrastructures,options:v.irrigation,dense:"","option-label":"irrigation_infrastructures_name","option-value":"id",multiple:"","use-chips":"","stack-label":"",label:" Select Irrigation Infrastructure *",outlined:"",color:"green"},{"no-option":i(()=>[r(c,null,{default:i(()=>[r(_,{class:"text-gresy"},{default:i(()=>[g(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",Le,[s("div",null,[r(u,{outlined:"",color:"green",modelValue:o(e).other_irrigation_infrastructure,"onUpdate:modelValue":l[16]||(l[16]=a=>o(e).other_irrigation_infrastructure=a),error:!!o(e).errors.other_irrigation_infrastructure,"error-message":o(e).errors.other_irrigation_infrastructure,dense:"",label:"Others(If Any)"},null,8,["modelValue","error","error-message"])])])]),s("div",Ae,[s("div",Fe,[r(p,{modelValue:o(e).farm_equipments,"onUpdate:modelValue":l[17]||(l[17]=a=>o(e).farm_equipments=a),error:!!o(e).errors.farm_equipments,"error-message":o(e).errors.farm_equipments,options:v.equipment,dense:"","option-label":"equipment_name","option-value":"id",multiple:"","use-chips":"","stack-label":"",label:" Farm Machinery/Equiments *",outlined:"",color:"green"},{"no-option":i(()=>[r(c,null,{default:i(()=>[r(_,{class:"text-gresy"},{default:i(()=>[g(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",je,[r(u,{outlined:"",color:"green",modelValue:o(e).other_farm_equipment,"onUpdate:modelValue":l[18]||(l[18]=a=>o(e).other_farm_equipment=a),error:!!o(e).errors.other_farm_equipment,"error-message":o(e).errors.other_farm_equipment,dense:"",label:"Others(If Any)"},null,8,["modelValue","error","error-message"])])]),Ne,s("div",Ie,[s("div",Be,[r(p,{modelValue:o(e).kharif_crops,"onUpdate:modelValue":l[19]||(l[19]=a=>o(e).kharif_crops=a),error:!!o(e).errors.kharif_crops,"error-message":o(e).errors.kharif_crops,options:v.kharifCrops,dense:"","option-label":"kharif_crops_name","option-value":"id",multiple:"","use-chips":"","stack-label":"",label:" Crops Grown(Kharif) *",outlined:"",color:"green"},{"no-option":i(()=>[r(c,null,{default:i(()=>[r(_,{class:"text-gresy"},{default:i(()=>[g(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",Oe,[r(u,{name:"full_name",outlined:"",color:"green",modelValue:o(e).kharif_total_area,"onUpdate:modelValue":l[20]||(l[20]=a=>o(e).kharif_total_area=a),error:!!o(e).errors.kharif_total_area,"error-message":o(e).errors.kharif_total_area,dense:"",label:"Total Farm Area in (Acres) *"},null,8,["modelValue","error","error-message"])])]),s("div",Pe,[s("div",Te,[r(p,{modelValue:o(e).rabi_crops,"onUpdate:modelValue":l[21]||(l[21]=a=>o(e).rabi_crops=a),error:!!o(e).errors.rabi_crops,"error-message":o(e).errors.rabi_crops,options:v.rabiCrops,dense:"","option-label":"rabi_crops_name","option-value":"id",multiple:"","use-chips":"","stack-label":"",label:" Crops Grown(Rabi)*",outlined:"",color:"green"},{"no-option":i(()=>[r(c,null,{default:i(()=>[r(_,{class:"text-gresy"},{default:i(()=>[g(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",Me,[r(u,{name:"full_name",outlined:"",color:"green",modelValue:o(e).rabi_total_area,"onUpdate:modelValue":l[22]||(l[22]=a=>o(e).rabi_total_area=a),error:!!o(e).errors.rabi_total_area,"error-message":o(e).errors.rabi_total_area,dense:"",label:"Total Farm Area in (Acres) *"},null,8,["modelValue","error","error-message"])])]),s("div",Ee,[r(A,{label:"Back",outline:"",dense:"",rounded:"",style:{color:"#2e6525",padding:"5px 40px 5px"},onClick:L}),Ge,r(A,{flat:"",rounded:"",label:"Confirm",type:"submit",style:{padding:"5px 30px 5px","background-color":"#2e6525",color:"white"}})])],40,ee)])])])}}};export{He as default};
