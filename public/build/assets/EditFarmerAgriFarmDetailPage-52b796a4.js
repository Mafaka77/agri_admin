import{Q as G,a as V}from"./QBreadcrumbs-580a684a.js";import{u as R,n as d,T as H,o as $,a as z,b as s,d as a,w as i,e as K,f as o,Q as u,g as C,O as J,j as _,k as m,l as c,i as W}from"./app-ecd1ccd6.js";import{Q as p}from"./QSelect-cce58fe2.js";import{Q as X}from"./QFile-2f198c95.js";import"./QChip-11c19431.js";const Y={class:"row justify-center"},Z={class:"col-md-9 col-xl-12 q-pa-md",style:{"background-color":"white"}},ee=s("div",{class:"q-pt-md text-lg"},"Farm Land & Agriculture Details",-1),oe={class:"q-gutter-x-md column"},le=["onSubmit"],re={class:"row justify-around q-pt-md"},ae={class:"col-xs-12 col-md-5"},se={class:"col-xs-12 col-md-5"},ie={class:"row justify-around"},te={class:"col-xs-12 col-md-5"},ne={class:"col-xs-12 col-md-5"},de=s("div",null,"Farm Location",-1),ue={class:"row justify-around"},_e={class:"col-xs-12 col-md-5"},me={class:"col-xs-12 col-md-5"},ce={class:"row justify-around"},pe={class:"col-xs-12 col-md-5"},ge={class:"col-xs-12 col-md-5"},fe={class:"row justify-around"},ve={class:"col-xs-12 col-md-5"},he={class:"col-xs-12 col-md-5"},be={class:"row justify-around"},Ve={class:"col-xs-12 col-md-5"},ye=s("div",{class:"col-xs-12 col-md-5"},null,-1),De=s("div",null,"Landholding Documents with details(LSC/P.Patta/VC PASS)",-1),xe={class:"row justify-around"},ke={class:"col-xs-12 col-md-5"},we={class:"col-xs-12 col-md-5"},Se={class:"row justify-around"},Ue={class:"col-xs-12 col-md-5"},qe=s("div",{class:"col-xs-12 col-md-5"},null,-1),Le=s("div",{class:"q-pt-md"},"Irrigation & Machinery Details",-1),Ce={class:"row justify-around"},Fe={class:"col-xs-12 col-md-5"},je={class:"col-xs-12 col-md-5"},Ae={class:"row justify-around"},Ie={class:"col-xs-12 col-md-5"},Ne={class:"col-xs-12 col-md-5"},Be=s("div",null,"Crop Details",-1),Qe={class:"row justify-around"},Oe={class:"col-xs-12 col-md-5"},Pe={class:"col-xs-12 col-md-5"},Te={class:"row justify-around"},Me={class:"col-xs-12 col-md-5"},Ee={class:"col-xs-12 col-md-5"},Ge={class:"row justify-center q-mt-md"},Re=s("div",{style:{width:"15px"}},null,-1),We={__name:"EditFarmerAgriFarmDetailPage",props:{landDetails:Object,district:[],ownership_type:[],irrigation:[],equipment:[],kharifCrops:[],rabiCrops:[],landHolding:[]},setup(g){const t=g,f=R(),v=d(!0),h=d(!0),y=d(!0),D=d([]),x=d([]),b=d([]),k=d([]),w=d(t.landDetails.block.block_name),S=d(t.landDetails.village.village_name),U=d(t.landDetails.sub_division.sub_division_name),e=H({farmers_id:t.landDetails.farmers_id,farmer_agri_id:t.landDetails.farmer_agri_id,land_owner_name:t.landDetails.land_owner_name,area_of_land:t.landDetails.area_of_land,acres_or_hectares:"Acres",latitude:t.landDetails.latitude,longitude:t.landDetails.longitude,altitude:t.landDetails.altitude,district_id:t.landDetails.district_id,sub_division_id:t.landDetails.sub_division_id,block_id:t.landDetails.block_id,village_id:t.landDetails.village_id,ownership_type_id:t.landDetails.ownership_type_id,landholding_documents_number:t.landDetails.landholding_documents_number,land_holding_file:t.landDetails.land_holding_file,irrigation_infrastructures:t.landDetails.irrigation_infrastructures,other_irrigation_infrastructure:t.landDetails.other_irrigation_infrastructure,farm_equipments:t.landDetails.farm_equipments,other_farm_equipment:t.landDetails.other_farm_equipment,kharif_crops:t.landDetails.kharif_crops,kharif_acres_or_hectares:"Acres",kharif_total_area:t.landDetails.kharif_total_area,rabi_crops:t.landDetails.rabi_crops,rabi_acres_or_hectares:"Acres",rabi_total_area:t.landDetails.rabi_total_area,land_holding_id:t.landDetails.land_holding_id}),F=n=>{axios.get(route("get-sub-division",n)).then(l=>{const{data:r}=l.data;v.value=!1,h.value=!1,D.value=r,e.sub_division_id=""})},j=n=>{axios.get(route("get-block",n)).then(l=>{const{data:r}=l.data;v.value=!1,x.value=r,e.block_id="",e.village_id=""})},A=n=>{axios.get(route("get-village",n)).then(l=>{const{data:r}=l.data;v.value=!1,h.value=!1,y.value=!1,b.value=r,k.value=r})},I=()=>{e.transform(n=>({irrigation_infrastructure_ids:n.irrigation_infrastructures.map(l=>l.id),farm_equipment_ids:n.farm_equipments.map(l=>l.id),kharif_crop_ids:n.kharif_crops.map(l=>l.id),rabi_crop_ids:n.rabi_crops.map(l=>l.id),...n})).put(route("farmer-agriculture-land.update",t.landDetails.id),{onStart:()=>{f.loading.show()},onSuccess:()=>{f.loading.hide(),f.notify({message:"Farmer Agriculture Land Updated",closeBtn:!0})}})},N=(n,l,r)=>{l(()=>{const M=n.toLocaleLowerCase(),L=d([]);L.value=[...k.value],b.value=L.value.filter(E=>E.village_name.toLowerCase().indexOf(M)>-1)})},B=n=>{S.value=n},Q=n=>{w.value=n},O=n=>{U.value=n},P=n=>{f.notify({type:"negative",message:`${n.length} file(s) did not pass validation constraints`})},q=()=>{J.get(route("farmer-details",t.farmerId))},T=n=>{const l=new FormData;l.append("land_holding_file",e.land_holding_file),f.loading.show({message:"File uploading......"}),axios.post(route("upload-land-holding-file"),l,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>{f.loading.hide(),e.land_holding_file=r.data.data,console.log(e.land_holding_file),f.notify({type:"positive",message:"File Uploaded Successfully"})}).catch(r=>{f.notify({type:"negative",message:r})})};return(n,l)=>($(),z("div",Y,[s("div",Z,[a(G,null,{default:i(()=>[a(V,{icon:"home",onClick:l[0]||(l[0]=r=>n.$inertia.get(n.route("manage-farmer")))}),a(V,{label:"Farmer Details",icon:"add_task",onClick:q}),a(V,{label:"Edit Farm Land & Agriculture Details",icon:"edit"})]),_:1}),ee,s("div",oe,[s("form",{onSubmit:K(I,["prevent"]),method:"POST"},[s("div",re,[s("div",ae,[a(u,{name:"full_name",outlined:"",color:"green",modelValue:o(e).farmer_agri_id,"onUpdate:modelValue":l[1]||(l[1]=r=>o(e).farmer_agri_id=r),error:!!o(e).errors.farmer_agri_id,"error-message":o(e).errors.farmer_agri_id,dense:"",label:"Farmer ID(Provided by Central Govt) *"},null,8,["modelValue","error","error-message"])]),s("div",se,[a(u,{disable:"",name:"full_name",outlined:"",color:"green",modelValue:o(e).land_owner_name,"onUpdate:modelValue":l[2]||(l[2]=r=>o(e).land_owner_name=r),error:!!o(e).errors.land_owner_name,"error-message":o(e).errors.land_owner_name,dense:"",label:"Land Owner Name *"},null,8,["modelValue","error","error-message"])])]),s("div",ie,[s("div",te,[a(u,{name:"full_name",outlined:"",color:"green",modelValue:o(e).area_of_land,"onUpdate:modelValue":l[3]||(l[3]=r=>o(e).area_of_land=r),error:!!o(e).errors.area_of_land,"error-message":o(e).errors.area_of_land,dense:"",label:"Total Farm Area in (Acres) *"},null,8,["modelValue","error","error-message"])]),s("div",ne,[a(p,{modelValue:o(e).land_holding_id,"onUpdate:modelValue":l[4]||(l[4]=r=>o(e).land_holding_id=r),error:!!o(e).errors.land_holding_id,"error-message":o(e).errors.land_holding_id,options:g.landHolding,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"land_holding_name","option-value":"id",placeholder:"Select LandHolding *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])])]),de,s("div",ue,[s("div",_e,[a(p,{modelValue:o(e).district_id,"onUpdate:modelValue":[l[5]||(l[5]=r=>o(e).district_id=r),F,j],error:!!o(e).errors.district_id,"error-message":o(e).errors.district_id,options:g.district,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"district_name","option-value":"id",placeholder:"Select District *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",me,[a(p,{modelValue:o(e).sub_division_id,"onUpdate:modelValue":l[6]||(l[6]=r=>o(e).sub_division_id=r),error:!!o(e).errors.sub_division_id,"error-message":o(e).errors.sub_division_id,options:D.value,dense:"","emit-value":"",disable:v.value,"model-value":U.value,onInputValue:O,"fill-input":"","hide-selected":"","map-options":"","option-label":"sub_division_name","option-value":"id",placeholder:"Select Sub Division *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options","disable","model-value"])])]),s("div",ce,[s("div",pe,[a(p,{modelValue:o(e).block_id,"onUpdate:modelValue":[l[7]||(l[7]=r=>o(e).block_id=r),A],error:!!o(e).errors.block_id,"error-message":o(e).errors.block_id,options:x.value,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"block_name","option-value":"id","model-value":w.value,onInputValue:Q,disable:h.value,placeholder:"Select RD Block *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options","model-value","disable"])]),s("div",ge,[a(p,{modelValue:o(e).village_id,"onUpdate:modelValue":[l[8]||(l[8]=r=>o(e).village_id=r),n.assignVillageLGD],error:!!o(e).errors.village_id,"error-message":o(e).errors.village_id,options:b.value,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"village_name","option-value":"id",onFilter:N,onInputValue:B,"model-value":S.value,disable:y.value,placeholder:"Select or Search Village *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options","model-value","disable","onUpdate:modelValue"])])]),s("div",fe,[s("div",ve,[a(u,{name:"village_locality",outlined:"",color:"green",modelValue:o(e).latitude,"onUpdate:modelValue":l[9]||(l[9]=r=>o(e).latitude=r),error:!!o(e).errors.latitude,"error-message":o(e).errors.latitude,dense:"",label:"Latitude *"},null,8,["modelValue","error","error-message"])]),s("div",he,[a(u,{name:"village_locality",outlined:"",color:"green",modelValue:o(e).longitude,"onUpdate:modelValue":l[10]||(l[10]=r=>o(e).longitude=r),error:!!o(e).errors.longitude,"error-message":o(e).errors.longitude,dense:"",label:"Longitude *"},null,8,["modelValue","error","error-message"])])]),s("div",be,[s("div",Ve,[a(u,{name:"village_locality",outlined:"",color:"green",modelValue:o(e).altitude,"onUpdate:modelValue":l[11]||(l[11]=r=>o(e).altitude=r),error:!!o(e).errors.altitude,"error-message":o(e).errors.altitude,dense:"",label:"Altitude *"},null,8,["modelValue","error","error-message"])]),ye]),De,s("div",xe,[s("div",ke,[a(p,{modelValue:o(e).ownership_type_id,"onUpdate:modelValue":l[12]||(l[12]=r=>o(e).ownership_type_id=r),error:!!o(e).errors.ownership_type_id,"error-message":o(e).errors.ownership_type_id,options:g.ownership_type,dense:"","emit-value":"","fill-input":"","hide-selected":"","map-options":"","option-label":"ownership_type_name","option-value":"id",placeholder:"Select Ownership Type *",outlined:"",color:"green","use-input":""},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",we,[a(u,{name:"landholding_document_number",outlined:"",color:"green",modelValue:o(e).landholding_documents_number,"onUpdate:modelValue":l[13]||(l[13]=r=>o(e).landholding_documents_number=r),error:!!o(e).errors.landholding_documents_number,"error-message":o(e).errors.landholding_documents_number,dense:"",label:"Landholding Documents Number(LSC/P.Patta/VC PASS)*"},null,8,["modelValue","error","error-message"])])]),s("div",Se,[s("div",Ue,[a(X,{"display-value":o(e).land_holding_file,modelValue:o(e).land_holding_file,"onUpdate:modelValue":[l[14]||(l[14]=r=>o(e).land_holding_file=r),T],error:!!o(e).errors.land_holding_file,"error-message":o(e).errors.land_holding_file,label:"Upload Land Document (Below <3Mb)",dense:"",counter:"",outlined:"","max-file-size":"3145728",onRejected:P},{prepend:i(()=>[a(W,{name:"attach_file"})]),_:1},8,["display-value","modelValue","error","error-message"])]),qe]),Le,s("div",Ce,[s("div",Fe,[a(p,{modelValue:o(e).irrigation_infrastructures,"onUpdate:modelValue":l[15]||(l[15]=r=>o(e).irrigation_infrastructures=r),error:!!o(e).errors.irrigation_infrastructures,"error-message":o(e).errors.irrigation_infrastructures,options:g.irrigation,dense:"","option-label":"irrigation_infrastructures_name","option-value":"id",multiple:"","use-chips":"","stack-label":"",label:" Select Irrigation Infrastructure *",outlined:"",color:"green"},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",je,[s("div",null,[a(u,{outlined:"",color:"green",modelValue:o(e).other_irrigation_infrastructure,"onUpdate:modelValue":l[16]||(l[16]=r=>o(e).other_irrigation_infrastructure=r),error:!!o(e).errors.other_irrigation_infrastructure,"error-message":o(e).errors.other_irrigation_infrastructure,dense:"",label:"Others(If Any)"},null,8,["modelValue","error","error-message"])])])]),s("div",Ae,[s("div",Ie,[a(p,{modelValue:o(e).farm_equipments,"onUpdate:modelValue":l[17]||(l[17]=r=>o(e).farm_equipments=r),error:!!o(e).errors.farm_equipments,"error-message":o(e).errors.farm_equipments,options:g.equipment,dense:"","option-label":"equipment_name","option-value":"id",multiple:"","use-chips":"","stack-label":"",label:" Farm Machinery/Equiments *",outlined:"",color:"green"},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",Ne,[a(u,{outlined:"",color:"green",modelValue:o(e).other_farm_equipment,"onUpdate:modelValue":l[18]||(l[18]=r=>o(e).other_farm_equipment=r),error:!!o(e).errors.other_farm_equipment,"error-message":o(e).errors.other_farm_equipment,dense:"",label:"Others(If Any)"},null,8,["modelValue","error","error-message"])])]),Be,s("div",Qe,[s("div",Oe,[a(p,{modelValue:o(e).kharif_crops,"onUpdate:modelValue":l[19]||(l[19]=r=>o(e).kharif_crops=r),error:!!o(e).errors.kharif_crops,"error-message":o(e).errors.kharif_crops,options:g.kharifCrops,dense:"","option-label":"kharif_crops_name","option-value":"id",multiple:"","use-chips":"","stack-label":"",label:" Crops Grown(Kharif) *",outlined:"",color:"green"},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",Pe,[a(u,{name:"full_name",outlined:"",color:"green",modelValue:o(e).kharif_total_area,"onUpdate:modelValue":l[20]||(l[20]=r=>o(e).kharif_total_area=r),error:!!o(e).errors.kharif_total_area,"error-message":o(e).errors.kharif_total_area,dense:"",label:"Total Farm Area in (Acres) *"},null,8,["modelValue","error","error-message"])])]),s("div",Te,[s("div",Me,[a(p,{modelValue:o(e).rabi_crops,"onUpdate:modelValue":l[21]||(l[21]=r=>o(e).rabi_crops=r),error:!!o(e).errors.rabi_crops,"error-message":o(e).errors.rabi_crops,options:g.rabiCrops,dense:"","option-label":"rabi_crops_name","option-value":"id",multiple:"","use-chips":"","stack-label":"",label:" Crops Grown(Rabi)*",outlined:"",color:"green"},{"no-option":i(()=>[a(_,null,{default:i(()=>[a(m,{class:"text-gresy"},{default:i(()=>[c(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])]),s("div",Ee,[a(u,{name:"full_name",outlined:"",color:"green",modelValue:o(e).rabi_total_area,"onUpdate:modelValue":l[22]||(l[22]=r=>o(e).rabi_total_area=r),error:!!o(e).errors.rabi_total_area,"error-message":o(e).errors.rabi_total_area,dense:"",label:"Total Farm Area in (Acres) *"},null,8,["modelValue","error","error-message"])])]),s("div",Ge,[a(C,{label:"Back",outline:"",dense:"",rounded:"",style:{color:"#2e6525",padding:"5px 40px 5px"},onClick:q}),Re,a(C,{flat:"",rounded:"",label:"Confirm",type:"submit",style:{padding:"5px 30px 5px","background-color":"#2e6525",color:"white"}})])],40,le)])])]))}};export{We as default};
