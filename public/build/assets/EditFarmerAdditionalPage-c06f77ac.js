import{u as E,T as O,c as z,r as c,a as $,o as p,b as f,d as s,e as t,w as n,f as L,g as o,F as I,h as Q,i as x,t as G,j as H,O as J}from"./app-4496f01d.js";const W={class:"row justify-center"},X={class:"col-md-9 col-xl-7 q-pa-md",style:{"background-color":"white"}},Z=s("div",{class:"q-pt-md text-lg"},"Additional Farmer Details",-1),ee={class:"q-gutter-x-md column"},oe=["onSubmit"],ae=s("div",null,"Ration Card Details",-1),se={class:"row justify-around q-pt-md"},le={class:"col-xs-12 col-md-5"},te={class:"col-xs-12 col-md-5"},re=s("div",null,"Schemes Applied by Farmer",-1),de={class:"row q-pt-md justify-center"},ne={class:"col-xs-12 col-md-11"},ie={class:"row justify-around"},ce={class:"col-xs-12 col-md-11"},_e={class:"row justify-around"},me={class:"col-xs-12 col-md-5"},ue={class:"self-center no-outline",tabindex:"0"},pe={class:"col-xs-12 col-md-5"},fe={class:"row justify-around q-gutter-y-md"},he={class:"col-xs-12 col-md-5"},be={class:"col-xs-12 col-md-5"},ve=s("div",{class:"q-pb-md q-pt-md"},"Kisan Credit Card",-1),ge={class:"row justify-around"},ke={class:"col-xs-12 col-md-5"},ye={class:"row"},Ve=s("div",{class:"col-xs-6"}," KCC Availed by Farmer ",-1),we={class:"col-xs-6"},xe=s("div",{class:"col-xs-12 col-md-5"},null,-1),qe={key:0},Ce=s("div",null,"KCC Details",-1),Ue={class:"row justify-around"},De={class:"col-xs-12 col-md-5"},je={class:"col-xs-12 col-md-5"},Fe={class:"row justify-around"},Ne={class:"col-xs-12 col-md-5"},Ae={class:"col-xs-12 col-md-5"},Se={class:"row justify-around"},Ye={class:"col-xs-12 col-md-5"},Be={class:"col-xs-12 col-md-5"},Re={key:1},Me=s("div",{class:"q-pb-md"},"Supporting Documents",-1),Ke={class:"row justify-around"},Te={class:"col-xs-12 col-md-5"},Pe={class:"col-xs-12 col-md-5"},Ee=s("div",{class:"q-pt-md q-pb-md"},"Enumerator Details",-1),Oe={class:"row justify-around"},ze={class:"col-xs-12 col-md-5"},$e={class:"row items-center justify-end"},Le={class:"col-xs-12 col-md-5"},Ie={class:"row justify-center q-mt-md"},Qe=s("div",{style:{width:"15px"}},null,-1),He={__name:"EditFarmerAdditionalPage",props:{additional:Object,schemes:[]},setup(k){const r=k,d=E(),e=O({farmers_id:r.additional.farmer_id,ration_card_number:r.additional.ration_card_number,ration_card_path:r.additional.ration_card_path,ration_card_file:r.additional.ration_card_path,scheme_id:"",schemeApplied:r.additional.scheme_applied,is_kcc_availed:r.additional.is_kcc_availed==1?"Yes":"No",kcc_card_no:r.additional.kcc_card_no,kcc_renew_or_new:r.additional.kcc_renew_or_new,bank_name:r.additional.bank_name,branch_name:r.additional.branch_name,year_of_amount_sanction:r.additional.year_of_amount_sanction,amount_sanction:r.additional.amount_sanction,aadhaar_card_path:r.additional.aadhaar_card_path,aadhaar_card_file:r.additional.aadhaar_card_file,bank_passbook_path:r.additional.bank_passbook_path,bank_passbook_file:r.additional.bank_passbook_file,date_of_data_collection:r.additional.date_of_data_collection,remarks:""}),q=["Yes","No"],C=[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],U=()=>{e.scheme_id===""?d.notify({message:"Please select Scheme Applied"}):e.schemeApplied.push({schemes_id:e.scheme_id.id,scheme_name:e.scheme_id.scheme_name,availed:"Yes",amount:""})},D=()=>{J.get(route("farmer-details",r.farmerId))},j=z(i=>e.is_kcc_availed),F=()=>{e.put(route("additional-farmer-details.update",r.additional.id),{onStart:()=>{d.loading.show()},onSuccess:()=>{d.loading.hide(),d.notify({message:"Submitted Successfully"})},onError:()=>{d.loading.hide()}})},N=i=>{const a=new FormData;a.append("ration_card_document",e.ration_card_file),d.loading.show({message:"File uploading......"}),axios.post(route("upload-ration-card"),a,{headers:{"Content-Type":"multipart/form-data"}}).then(m=>{d.loading.hide(),e.ration_card_path=m.data.data,console.log(e.ration_card_path),d.notify({type:"positive",message:"File Uploaded Successfully"})}).catch(m=>{d.notify({type:"negative",message:m})})},A=()=>{const i=new FormData;i.append("aadhaar_card_document",e.aadhaar_card_file),d.loading.show({message:"File uploading......"}),axios.post(route("upload-aadhaar-card"),i,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{d.loading.hide(),e.aadhaar_card_path=a.data.data,d.notify({type:"positive",message:"File Uploaded Successfully"})}).catch(a=>{console.log(a),d.notify({type:"negative",message:a})})},S=()=>{const i=new FormData;i.append("bank_passbook_document",e.bank_passbook_file),d.loading.show({message:"File uploading......"}),axios.post(route("upload-bank-passbook"),i,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{d.loading.hide(),e.bank_passbook_path=a.data.data,d.notify({type:"positive",message:"File Uploaded Successfully"})}).catch(a=>{console.log(a),d.notify({type:"negative",message:a})})},b=i=>{d.notify({type:"negative",message:`${i.length} file(s) did not pass validation constraints`})};return(i,a)=>{const m=c("q-breadcrumbs-el"),Y=c("q-breadcrumbs"),_=c("q-input"),h=c("q-icon"),v=c("q-file"),y=c("q-item-section"),V=c("q-item"),w=c("q-select"),u=c("q-btn"),B=c("q-field"),R=c("q-option-group"),M=c("q-date"),K=c("q-popup-proxy"),T=$("close-popup");return p(),f("div",W,[s("div",X,[t(Y,null,{default:n(()=>[t(m,{icon:"home",onClick:a[0]||(a[0]=l=>i.$inertia.get(i.route("manage-farmer")))}),t(m,{label:"Farmer Details",icon:"add_task",onClick:D}),t(m,{label:"Add Additional Farmer Details",icon:"add_circle"})]),_:1}),Z,s("div",ee,[s("form",{onSubmit:L(F,["prevent"]),method:"POST"},[ae,s("div",se,[s("div",le,[t(_,{name:"ration_card_number",outlined:"",modelValue:o(e).ration_card_number,"onUpdate:modelValue":a[1]||(a[1]=l=>o(e).ration_card_number=l),error:!!o(e).errors.ration_card_number,"error-message":o(e).errors.ration_card_number,dense:"",label:"Ration Card Number *"},null,8,["modelValue","error","error-message"])]),s("div",te,[t(v,{"display-value":o(e).ration_card_path,modelValue:o(e).ration_card_file,"onUpdate:modelValue":[a[2]||(a[2]=l=>o(e).ration_card_file=l),N],error:!!o(e).errors.ration_card_path,"error-message":o(e).errors.ration_card_path,label:"Upload Ration Card(Below <3MB)",color:"green",dense:"",outlined:"",counter:"","max-file-size":"3145728",onRejected:b},{prepend:n(()=>[t(h,{name:"attach_file"})]),_:1},8,["display-value","modelValue","error","error-message"])])]),re,s("div",de,[s("div",ne,[t(w,{modelValue:o(e).scheme_id,"onUpdate:modelValue":a[3]||(a[3]=l=>o(e).scheme_id=l),error:!!o(e).errors.scheme_id,"error-message":o(e).errors.scheme_id,options:k.schemes,dense:"","option-label":"scheme_name","option-value":"scheme_name","stack-label":"",clearable:"",label:" Scheme Name *",outlined:"",color:"green"},{"no-option":n(()=>[t(V,null,{default:n(()=>[t(y,{class:"text-gresy"},{default:n(()=>[x(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message","options"])])]),s("div",ie,[s("div",ce,[t(u,{class:"text-white",rounded:"",label:"Add Scheme",style:{"background-color":"#2e6525"},onClick:U})])]),(p(!0),f(I,null,Q(o(e).schemeApplied,(l,P)=>(p(),f("div",_e,[s("div",me,[t(B,{borderless:""},{control:n(()=>[s("div",ue,G(l.schemes.scheme_name),1)]),append:n(()=>[t(u,{dense:"",flat:"",onClick:()=>o(e).schemeApplied.splice(P,1),icon:"delete",color:"red"},null,8,["onClick"])]),_:2},1024)]),s("div",pe,[s("div",fe,[s("div",he,[t(w,{modelValue:l.availed,"onUpdate:modelValue":g=>l.availed=g,options:q,dense:"","option-label":"label","option-value":"value","stack-label":"","model-value":l.availed===1?"Yes":l.availed===0?"No":l.availed==="Yes"?"Yes":"No",label:" Availed *",outlined:""},{"no-option":n(()=>[t(V,null,{default:n(()=>[t(y,{class:"text-gresy"},{default:n(()=>[x(" No results ")]),_:1})]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue","model-value"])]),s("div",be,[t(_,{disable:l.availed===0||l.availed==="No",name:"benefit_amount",outlined:"",modelValue:l.amount,"onUpdate:modelValue":g=>l.amount=g,dense:"",label:"Benefit Amt. (till date)"},null,8,["disable","modelValue","onUpdate:modelValue"])])])])]))),256)),ve,s("div",ge,[s("div",ke,[s("div",ye,[Ve,s("div",we,[t(R,{modelValue:o(e).is_kcc_availed,"onUpdate:modelValue":a[4]||(a[4]=l=>o(e).is_kcc_availed=l),options:C,color:"primary",inline:""},null,8,["modelValue"])])])]),xe]),j.value==="Yes"?(p(),f("div",qe,[Ce,s("div",Ue,[s("div",De,[t(_,{outlined:"",modelValue:o(e).kcc_card_no,"onUpdate:modelValue":a[5]||(a[5]=l=>o(e).kcc_card_no=l),error:!!o(e).errors.kcc_card_no,"error-message":o(e).errors.kcc_card_no,dense:"",label:"KCC Card Number "},null,8,["modelValue","error","error-message"])]),s("div",je,[t(_,{outlined:"",modelValue:o(e).kcc_renew_or_new,"onUpdate:modelValue":a[6]||(a[6]=l=>o(e).kcc_renew_or_new=l),error:!!o(e).errors.kcc_renew_or_new,"error-message":o(e).errors.kcc_renew_or_new,dense:"",label:"KCC Renew/New "},null,8,["modelValue","error","error-message"])])]),s("div",Fe,[s("div",Ne,[t(_,{outlined:"",modelValue:o(e).bank_name,"onUpdate:modelValue":a[7]||(a[7]=l=>o(e).bank_name=l),error:!!o(e).errors.bank_name,"error-message":o(e).errors.bank_name,dense:"",label:"Bank Name "},null,8,["modelValue","error","error-message"])]),s("div",Ae,[t(_,{outlined:"",modelValue:o(e).branch_name,"onUpdate:modelValue":a[8]||(a[8]=l=>o(e).branch_name=l),error:!!o(e).errors.branch_name,"error-message":o(e).errors.branch_name,dense:"",label:"Branch Name "},null,8,["modelValue","error","error-message"])])]),s("div",Se,[s("div",Ye,[t(_,{outlined:"",modelValue:o(e).year_of_amount_sanction,"onUpdate:modelValue":a[9]||(a[9]=l=>o(e).year_of_amount_sanction=l),error:!!o(e).errors.year_of_amount_sanction,"error-message":o(e).errors.year_of_amount_sanction,dense:"",label:"Year of sanctioning the amount"},null,8,["modelValue","error","error-message"])]),s("div",Be,[t(_,{outlined:"",modelValue:o(e).amount_sanction,"onUpdate:modelValue":a[10]||(a[10]=l=>o(e).amount_sanction=l),error:!!o(e).errors.amount_sanction,"error-message":o(e).errors.amount_sanction,dense:"",label:"Amount Sanctioned(in Rs)"},null,8,["modelValue","error","error-message"])])])])):(p(),f("div",Re)),Me,s("div",Ke,[s("div",Te,[t(v,{"display-value":o(e).aadhaar_card_path,modelValue:o(e).aadhaar_card_file,"onUpdate:modelValue":[a[11]||(a[11]=l=>o(e).aadhaar_card_file=l),A],error:!!o(e).errors.aadhaar_card_path,"error-message":o(e).errors.aadhaar_card_path,label:"Upload Aadhaar Card (Below <3Mb)",color:"green",dense:"",outlined:"",counter:"","max-file-size":"3145728",onRejected:b},{prepend:n(()=>[t(h,{name:"attach_file"})]),_:1},8,["display-value","modelValue","error","error-message"])]),s("div",Pe,[t(v,{"display-value":o(e).bank_passbook_path,modelValue:o(e).bank_passbook_file,"onUpdate:modelValue":[a[12]||(a[12]=l=>o(e).bank_passbook_file=l),S],error:!!o(e).errors.bank_passbook_path,"error-message":o(e).errors.bank_passbook_path,label:"Upload Bank Passbook (Below <3Mb)",color:"green",dense:"",counter:"",outlined:"","max-file-size":"3145728",onRejected:b},{prepend:n(()=>[t(h,{name:"attach_file"})]),_:1},8,["display-value","modelValue","error","error-message"])])]),Ee,s("div",Oe,[s("div",ze,[t(_,{readonly:"",clearable:"",modelValue:o(e).date_of_data_collection,"onUpdate:modelValue":a[14]||(a[14]=l=>o(e).date_of_data_collection=l),dense:"",rules:["date"],label:"Date of Data Collection *",outlined:"",color:"green",error:!!o(e).errors.date_of_data_collection,"error-message":o(e).errors.date_of_data_collection},{append:n(()=>[t(h,{name:"event",class:"cursor-pointer"},{default:n(()=>[t(K,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[t(M,{mask:"DD-MM-YYYY",modelValue:o(e).date_of_data_collection,"onUpdate:modelValue":a[13]||(a[13]=l=>o(e).date_of_data_collection=l),minimal:""},{default:n(()=>[s("div",$e,[H(t(u,{label:"Close",color:"primary",flat:""},null,512),[[T]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","error","error-message"])]),s("div",Le,[t(_,{type:"textarea",color:"green",outlined:"",modelValue:o(e).remarks,"onUpdate:modelValue":a[15]||(a[15]=l=>o(e).remarks=l),error:!!o(e).errors.remarks,"error-message":o(e).errors.remarks,dense:"",label:"Remarks *"},null,8,["modelValue","error","error-message"])])]),s("div",Ie,[t(u,{label:"Back",outline:"",dense:"",rounded:"",style:{color:"#2e6525",padding:"5px 40px 5px"},onClick:a[16]||(a[16]=l=>i.$inertia.get(i.route("manage-farmer")))}),Qe,t(u,{flat:"",rounded:"",label:"Confirm",type:"submit",style:{padding:"5px 30px 5px","background-color":"#2e6525",color:"white"}})])],40,oe)])])])}}};export{He as default};
